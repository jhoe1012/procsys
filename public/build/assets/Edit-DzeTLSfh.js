import{r as g,W as C,j as e,Y as N,a as w}from"./app-9BfIP8Yt.js";import{A as k}from"./AuthenticatedLayout-DNrtgEyS.js";import{T as D,a as W,b as T,c as S,C as F,d as E}from"./tabs-CSAEFCKf.js";import{B as P}from"./button-UluEiDe7.js";import{L as s,I as l}from"./input-B6LatCgn.js";/* empty css              */import{d as t}from"./index-f1KWvzcE.js";import{T as I}from"./toaster-C-nH-nj2.js";import"./ApplicationLogo-BHU32V6c.js";import"./transition-6Z6DAD7I.js";import"./utils-BSdE8tDE.js";import"./toast-SiKyGAR4.js";import"./index-CzvjeGZW.js";const X=({auth:n,grheader:a})=>{var r,o,m,c;const[u,p]=g.useState(a.grmaterials),{data:d,setData:b,post:h,errors:B,reset:M,transform:G,processing:j}=C({id:a.id,gr_number:a.gr_number,po_number:a.po_number,created_name:a.created_name,vendor_id:`${(r=a.vendors)==null?void 0:r.supplier} - ${(o=a.vendors)==null?void 0:o.name_1}`,vendor_name:"",plant:`${(m=a.plants)==null?void 0:m.plant} - ${(c=a.plants)==null?void 0:c.name1}`,entry_date:a.entry_date,posting_date:a.posting_date,actual_date:a.actual_date,delivery_note:a.delivery_note,header_text:a.header_text,is_cancel:!1,grmaterials:a.grmaterials,_method:"patch"}),v=[{...t.keyColumn("item_no",t.intColumn),title:"ItmNo",maxWidth:50,disabled:!0},{...t.keyColumn("mat_code",t.textColumn),title:"Material",maxWidth:130,disabled:!0},{...t.keyColumn("short_text",t.textColumn),title:"Short Text",maxWidth:500,disabled:!0},{...t.keyColumn("gr_qty",t.floatColumn),title:"Qty",maxWidth:130,disabled:!0},{...t.keyColumn("unit",t.textColumn),title:"Unit",maxWidth:55,disabled:!0},{...t.keyColumn("po_deliv_date",t.textColumn),title:"PO Del Date",maxWidth:130,disabled:!0},{...t.keyColumn("batch",t.textColumn),title:"Batch",maxWidth:130,disabled:!0},{...t.keyColumn("mfg_date",t.textColumn),title:"Mfg Date",maxWidth:130,disabled:!0},{...t.keyColumn("sled_bbd",t.textColumn),title:"SLED/BBD",maxWidth:130,disabled:!0},{...t.keyColumn("po_item",t.textColumn),title:"PO Item",maxWidth:55,disabled:!0},{...t.keyColumn("dci",t.checkboxColumn),title:"DCI",maxWidth:55,disabled:!0}],f={"--dsg-header-text-color":"rgb(10, 10, 10)","--dsg-cell-disabled-background-color":"rgb(245, 245, 245)","--dsg-border-color":"#bfbdbd"},_=async(i,L)=>{const x=[...i];p(x),b({...d,grmaterials:x})},y=async i=>{i.preventDefault(),h(route("gr.cancel",a.id))};return e.jsxs(k,{user:n.user,menus:n.menu,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Cancel Goods Receipt"}),children:[e.jsx(N,{title:"PO Cancel"}),e.jsx(I,{}),e.jsx("div",{className:"py-2",children:e.jsx("div",{className:"max-w-8xl mx-auto sm:px-6 lg:px-2",children:e.jsx("div",{className:"bg-gray-50 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"p-5 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-none w-40",children:[e.jsx(s,{children:" "}),e.jsx(l,{type:"text",defaultValue:"Goods Reciept",disabled:!0})]}),e.jsxs("div",{className:"flex-none w-40",children:[e.jsx(s,{children:" "}),e.jsx(l,{type:"text",defaultValue:"Cancellation",disabled:!0})]}),e.jsxs("div",{className:"flex-none w-40",children:[e.jsx(s,{children:"PO Number"}),e.jsx(l,{type:"text",id:"po_number",value:d.po_number,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-40",children:[e.jsx(s,{htmlFor:"gr_number",children:"Document Number"}),e.jsx(l,{type:"text",id:"gr_number",value:d.gr_number,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-52",children:[e.jsx(s,{children:"Vendor"}),e.jsx(l,{type:"text",value:d.vendor_id,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-40",children:[e.jsx(s,{htmlFor:"created_name",children:"Entered by"}),e.jsx(l,{type:"text",id:"created_name",value:d.created_name,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-60",children:[e.jsx(s,{htmlFor:"requestingPlant",children:"Plant"}),e.jsx(l,{type:"text",id:"plant",value:d.plant,disabled:!0})]})]}),e.jsx("div",{className:"p-1 pt-0",children:e.jsxs(D,{defaultValue:"general",className:"max-w-8xl",children:[e.jsx(W,{children:e.jsx(T,{value:"general",children:"General"})}),e.jsx(S,{value:"general",children:e.jsx(F,{children:e.jsx(E,{children:e.jsxs("div",{className:"p-5 flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-none w-36",children:[e.jsx(s,{htmlFor:"entry_date",children:"Entry entry_date"}),e.jsx(l,{type:"date",id:"entry_date",value:d.entry_date,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-36",children:[e.jsx(s,{htmlFor:"actual_date",children:"Actual Date of Reciept"}),e.jsx(l,{type:"date",id:"actual_date",value:d.actual_date,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-36",children:[e.jsx(s,{htmlFor:"delivery_note",children:"Delivery Note / SI #"}),e.jsx(l,{type:"text",id:"delivery_note",value:d.delivery_note,disabled:!0})]}),e.jsxs("div",{className:"flex-none w-96",children:[e.jsx(s,{htmlFor:"header_text",children:"Header Text"}),e.jsx(l,{type:"text",id:"header_text",value:d.header_text,disabled:!0})]})]})})})})]})}),e.jsx("div",{className:"p-2",children:e.jsx(t.DataSheetGrid,{value:u,onChange:_,columns:v,style:f,disableExpandSelection:!0,rowHeight:30,className:"text-sm"})}),e.jsx("div",{className:"p-2 pt-0",children:e.jsx("div",{className:"p-5 justify-end grid grid-cols-8 gap-4",children:n.permissions.gr.cancel&&e.jsxs(e.Fragment,{children:[e.jsx(P,{variant:"outline",disabled:j,className:"bg-[#f8c110]  hover:border-gray-500 hover:bg-[#f8c110]",children:"Post"}),e.jsx(w,{href:route("gr.index"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-gray-500",children:"Cancel"})]})})})]})})})})]})};export{X as default};
