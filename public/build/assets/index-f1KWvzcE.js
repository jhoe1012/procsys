import{r as I,b as Cn,g as Sn,e as b}from"./app-9BfIP8Yt.js";function He(e,r,t){let n=t.initialDeps??[],o;return()=>{var l,i,a,f;let s;t.key&&((l=t.debug)!=null&&l.call(t))&&(s=Date.now());const c=e();if(!(c.length!==n.length||c.some((y,g)=>n[g]!==y)))return o;n=c;let h;if(t.key&&((i=t.debug)!=null&&i.call(t))&&(h=Date.now()),o=r(...c),t.key&&((a=t.debug)!=null&&a.call(t))){const y=Math.round((Date.now()-s)*100)/100,g=Math.round((Date.now()-h)*100)/100,x=g/16,C=(j,A)=>{for(j=String(j);j.length<A;)j=" "+j;return j};console.info(`%câ± ${C(g,5)} /${C(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(f=t==null?void 0:t.onChange)==null||f.call(t,o),o}}function mt(e,r){if(e===void 0)throw new Error(`Unexpected undefined${r?`: ${r}`:""}`);return e}const Dn=(e,r)=>Math.abs(e-r)<1,Yt=(e,r)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),r)}},Mn=e=>e,Rn=e=>{const r=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let o=r;o<=t;o++)n.push(o);return n},In=(e,r)=>{const t=e.scrollElement;if(!t)return;const n=l=>{const{width:i,height:a}=l;r({width:Math.round(i),height:Math.round(a)})};if(n(t.getBoundingClientRect()),typeof ResizeObserver>"u")return()=>{};const o=new ResizeObserver(l=>{const i=l[0];if(i!=null&&i.borderBoxSize){const a=i.borderBoxSize[0];if(a){n({width:a.inlineSize,height:a.blockSize});return}}n(t.getBoundingClientRect())});return o.observe(t,{box:"border-box"}),()=>{o.unobserve(t)}},nt={passive:!0},jn=(e,r)=>{const t=e.scrollElement;if(!t)return;const n=()=>{r({width:t.innerWidth,height:t.innerHeight})};return n(),t.addEventListener("resize",n,nt),()=>{t.removeEventListener("resize",n)}},Tn=typeof window>"u"?!0:"onscrollend"in window,Pn=(e,r)=>{const t=e.scrollElement;if(!t)return;let n=0;const o=Tn?()=>{}:Yt(()=>{r(n,!1)},e.options.isScrollingResetDelay),l=f=>()=>{n=t[e.options.horizontal?"scrollLeft":"scrollTop"],o(),r(n,f)},i=l(!0),a=l(!1);return a(),t.addEventListener("scroll",i,nt),t.addEventListener("scrollend",a,nt),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",a)}},zn=(e,r)=>{const t=e.scrollElement;if(!t)return;let n=0;const o=Tn?()=>{}:Yt(()=>{r(n,!1)},e.options.isScrollingResetDelay),l=f=>()=>{n=t[e.options.horizontal?"scrollX":"scrollY"],o(),r(n,f)},i=l(!0),a=l(!1);return a(),t.addEventListener("scroll",i,nt),t.addEventListener("scrollend",a,nt),()=>{t.removeEventListener("scroll",i),t.removeEventListener("scrollend",a)}},Nn=(e,r,t)=>{if(r!=null&&r.borderBoxSize){const n=r.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},An=(e,{adjustments:r=0,behavior:t},n)=>{var o,l;const i=e+r;(l=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||l.call(o,{[n.options.horizontal?"left":"top"]:i,behavior:t})},$n=(e,{adjustments:r=0,behavior:t},n)=>{var o,l;const i=e+r;(l=(o=n.scrollElement)==null?void 0:o.scrollTo)==null||l.call(o,{[n.options.horizontal?"left":"top"]:i,behavior:t})};class Fn{constructor(r){this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(typeof ResizeObserver<"u"?t=new ResizeObserver(o=>{o.forEach(l=>{this._measureElement(l.target,l)})}):null);return{disconnect:()=>{var o;return(o=n())==null?void 0:o.disconnect()},observe:o=>{var l;return(l=n())==null?void 0:l.observe(o,{box:"border-box"})},unobserve:o=>{var l;return(l=n())==null?void 0:l.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,o])=>{typeof o>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Mn,rangeExtractor:Rn,onChange:()=>{},measureElement:Nn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,n)=>{var o,l;const{startIndex:i,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},f=this.calculateRange();(t||i!==(f==null?void 0:f.startIndex)||a!==(f==null?void 0:f.endIndex))&&((l=(o=this.options).onChange)==null||l.call(o,this,n))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{const t=this.options.getScrollElement();this.scrollElement!==t&&(this.cleanup(),this.scrollElement=t,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(n,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.scrollOffset<n?"forward":"backward":null,this.scrollOffset=n;const l=this.isScrolling;this.isScrolling=o,this.notify(l!==o,o)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=He(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,n,o,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:o,getItemKey:l}),{key:!1}),this.getFurthestMeasurement=(t,n)=>{const o=new Map,l=new Map;for(let i=n-1;i>=0;i--){const a=t[i];if(o.has(a.lane))continue;const f=l.get(a.lane);if(f==null||a.end>f.end?l.set(a.lane,a):a.end<f.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurements=He(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:o,getItemKey:l},i)=>{const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const f=this.measurementsCache.slice(0,a);for(let s=a;s<t;s++){const c=l(s),v=this.options.lanes===1?f[s-1]:this.getFurthestMeasurement(f,s),h=v?v.end+this.options.gap:n+o,y=i.get(c),g=typeof y=="number"?y:this.options.estimateSize(s),x=h+g,C=v?v.lane:s%this.options.lanes;f[s]={index:s,start:h,size:g,end:x,key:c,lane:C}}return this.measurementsCache=f,f},{key:!1,debug:()=>this.options.debug}),this.calculateRange=He(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,n,o)=>this.range=t.length>0&&n>0?Ir({measurements:t,outerSize:n,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=He(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,n,o,l)=>n===null?[]:t({startIndex:n.startIndex,endIndex:n.endIndex,overscan:o,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,o=t.getAttribute(n);return o?parseInt(o,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const o=this.measurementsCache[this.indexFromElement(t)];if(!o||!t.isConnected){this.measureElementCache.forEach((a,f)=>{a===t&&(this.observer.unobserve(t),this.measureElementCache.delete(f))});return}const l=this.measureElementCache.get(o.key);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.measureElementCache.set(o.key,t));const i=this.options.measureElement(t,n,this);this.resizeItem(o,i)},this.resizeItem=(t,n)=>{const o=this.itemSizeCache.get(t.key)??t.size,l=n-o;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,l,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=He(()=>[this.getIndexes(),this.getMeasurements()],(t,n)=>{const o=[];for(let l=0,i=t.length;l<i;l++){const a=t[l],f=n[a];o.push(f)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();return mt(n[Ln(0,n.length-1,o=>mt(n[o]).start,t)])},this.getOffsetForAlignment=(t,n)=>{const o=this.getSize();n==="auto"&&(t<=this.scrollOffset?n="start":t>=this.scrollOffset+o?n="end":n="start"),n==="start"?t=t:n==="end"?t=t-o:n==="center"&&(t=t-o/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-this.getSize();return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=mt(this.getMeasurements()[t]);if(n==="auto")if(o.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)n="end";else if(o.start<=this.scrollOffset+this.options.scrollPaddingStart)n="start";else return[this.scrollOffset,n];const l=n==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n),n]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&(clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:n="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:n="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[l,i]=this.getOffsetForIndex(t,n);this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&(this.scrollToIndexTimeoutId=setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[f]=this.getOffsetForIndex(t,i);Dn(f,this.scrollOffset)||this.scrollToIndex(t,{align:i,behavior:o})}else this.scrollToIndex(t,{align:i,behavior:o})}))},this.scrollBy=(t,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let o;return n.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=n[n.length-1])==null?void 0:t.end)??0:Math.max(...n.slice(-this.options.lanes).map(l=>l.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:n,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:n},this)},this.measure=()=>{var t,n;this.itemSizeCache=new Map,(n=(t=this.options).onChange)==null||n.call(t,this,!1)},this.setOptions(r),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const Ln=(e,r,t,n)=>{for(;e<=r;){const o=(e+r)/2|0,l=t(o);if(l<n)e=o+1;else if(l>n)r=o-1;else return o}return e>0?e-1:0};function Ir({measurements:e,outerSize:r,scrollOffset:t}){const n=e.length-1,l=Ln(0,n,a=>e[a].start,t);let i=l;for(;i<n&&e[i].end<t+r;)i++;return{startIndex:l,endIndex:i}}const jr=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Bn(e){const r=I.useReducer(()=>({}),{})[1],t={...e,onChange:(o,l)=>{var i;l?Cn.flushSync(r):r(),(i=e.onChange)==null||i.call(e,o,l)}},[n]=I.useState(()=>new Fn(t));return n.setOptions(t),I.useEffect(()=>n._didMount(),[]),jr(()=>n._willUpdate()),n}function Tr(e){return Bn({observeElementRect:In,observeElementOffset:Pn,scrollToFn:$n,...e})}function Pr(e){return Bn({getScrollElement:()=>typeof document<"u"?window:null,observeElementRect:jn,observeElementOffset:zn,scrollToFn:An,initialOffset:()=>typeof document<"u"?window.scrollY:0,...e})}const zr=Object.freeze(Object.defineProperty({__proto__:null,Virtualizer:Fn,approxEqual:Dn,debounce:Yt,defaultKeyExtractor:Mn,defaultRangeExtractor:Rn,elementScroll:$n,measureElement:Nn,memo:He,notUndefined:mt,observeElementOffset:Pn,observeElementRect:In,observeWindowOffset:zn,observeWindowRect:jn,useVirtualizer:Tr,useWindowVirtualizer:Pr,windowScroll:An},Symbol.toStringTag,{value:"Module"}));var Nr={},Zt={},Vn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useColumnWidths=e.getColumnWidths=void 0;const r=I,t=(o,l)=>{const i=l.map(({basis:f,minWidth:s,maxWidth:c})=>({basis:f,minWidth:s,maxWidth:c,size:f,violation:0,frozen:!1,factor:0}));let a=i.reduce((f,s)=>f-s.size,o);a>0?l.forEach(({grow:f},s)=>{i[s].factor=f}):a<0&&l.forEach(({shrink:f},s)=>{i[s].factor=f});for(const f of i)f.factor===0&&(f.frozen=!0);for(;i.some(({frozen:f})=>!f);){const f=i.reduce((c,v)=>c+(v.frozen?0:v.factor),0);let s=0;for(const c of i)c.frozen||(c.size+=a*c.factor/f,c.size<c.minWidth?c.violation=c.minWidth-c.size:c.maxWidth!==void 0&&c.size>c.maxWidth?c.violation=c.maxWidth-c.size:c.violation=0,c.size+=c.violation,s+=c.violation);if(s>0)for(const c of i)c.violation>0&&(c.frozen=!0);else if(s<0)for(const c of i)c.violation<0&&(c.frozen=!0);else break;a=i.reduce((c,v)=>c-v.size,o)}return i.map(({size:f})=>f)};e.getColumnWidths=t;const n=(o,l)=>{const i=o.map(({basis:a,minWidth:f,maxWidth:s,grow:c,shrink:v})=>[a,f,s,c,v].join(",")).join("|");return(0,r.useMemo)(()=>{if(l===void 0)return{fullWidth:!1,columnWidths:void 0,columnRights:void 0,totalWidth:void 0};const a=(0,e.getColumnWidths)(l,o);let f=0;const s=a.map((c,v)=>(f+=c,v===a.length-1?1/0:f));return{fullWidth:Math.abs(l-f)<.1,columnWidths:a,columnRights:s,totalWidth:f}},[l,i])};e.useColumnWidths=n})(Vn);var qt=function(e,r){return qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},qt(e,r)};function Wn(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");qt(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Xe=function(){return Xe=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(r[l]=t[l])}return r},Xe.apply(this,arguments)};function Gn(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Jt=Ar,$r=typeof st=="object"&&st&&st.Object===Object&&st,Fr=$r,Lr=Fr,Br=typeof self=="object"&&self&&self.Object===Object&&self,Vr=Lr||Br||Function("return this")(),Kn=Vr,Wr=Kn,Gr=function(){return Wr.Date.now()},Kr=Gr,Ur=/\s/;function kr(e){for(var r=e.length;r--&&Ur.test(e.charAt(r)););return r}var qr=kr,Hr=qr,Xr=/^\s+/;function Yr(e){return e&&e.slice(0,Hr(e)+1).replace(Xr,"")}var Zr=Yr,Jr=Kn,Qr=Jr.Symbol,Un=Qr,vn=Un,kn=Object.prototype,eo=kn.hasOwnProperty,to=kn.toString,et=vn?vn.toStringTag:void 0;function no(e){var r=eo.call(e,et),t=e[et];try{e[et]=void 0;var n=!0}catch{}var o=to.call(e);return n&&(r?e[et]=t:delete e[et]),o}var ro=no,oo=Object.prototype,lo=oo.toString;function io(e){return lo.call(e)}var so=io,pn=Un,ao=ro,uo=so,co="[object Null]",fo="[object Undefined]",gn=pn?pn.toStringTag:void 0;function ho(e){return e==null?e===void 0?fo:co:gn&&gn in Object(e)?ao(e):uo(e)}var mo=ho;function vo(e){return e!=null&&typeof e=="object"}var po=vo,go=mo,bo=po,_o="[object Symbol]";function yo(e){return typeof e=="symbol"||bo(e)&&go(e)==_o}var wo=yo,Oo=Zr,bn=Jt,xo=wo,_n=NaN,Eo=/^[-+]0x[0-9a-f]+$/i,Co=/^0b[01]+$/i,So=/^0o[0-7]+$/i,Do=parseInt;function Mo(e){if(typeof e=="number")return e;if(xo(e))return _n;if(bn(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=bn(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Oo(e);var t=Co.test(e);return t||So.test(e)?Do(e.slice(2),t?2:8):Eo.test(e)?_n:+e}var Ro=Mo,Io=Jt,Gt=Kr,yn=Ro,jo="Expected a function",To=Math.max,Po=Math.min;function zo(e,r,t){var n,o,l,i,a,f,s=0,c=!1,v=!1,h=!0;if(typeof e!="function")throw new TypeError(jo);r=yn(r)||0,Io(t)&&(c=!!t.leading,v="maxWait"in t,l=v?To(yn(t.maxWait)||0,r):l,h="trailing"in t?!!t.trailing:h);function y(L){var Z=n,J=o;return n=o=void 0,s=L,i=e.apply(J,Z),i}function g(L){return s=L,a=setTimeout(j,r),c?y(L):i}function x(L){var Z=L-f,J=L-s,oe=r-Z;return v?Po(oe,l-J):oe}function C(L){var Z=L-f,J=L-s;return f===void 0||Z>=r||Z<0||v&&J>=l}function j(){var L=Gt();if(C(L))return A(L);a=setTimeout(j,x(L))}function A(L){return a=void 0,h&&n?y(L):(n=o=void 0,i)}function H(){a!==void 0&&clearTimeout(a),s=0,n=f=o=a=void 0}function ne(){return a===void 0?i:A(Gt())}function re(){var L=Gt(),Z=C(L);if(n=arguments,o=this,f=L,Z){if(a===void 0)return g(f);if(v)return clearTimeout(a),a=setTimeout(j,r),y(f)}return a===void 0&&(a=setTimeout(j,r)),i}return re.cancel=H,re.flush=ne,re}var qn=zo,No=qn,Ao=Jt,$o="Expected a function";function Fo(e,r,t){var n=!0,o=!0;if(typeof e!="function")throw new TypeError($o);return Ao(t)&&(n="leading"in t?!!t.leading:n,o="trailing"in t?!!t.trailing:o),No(e,r,{leading:n,maxWait:r,trailing:o})}var Lo=Fo,Hn=function(e,r,t,n){switch(r){case"debounce":return qn(e,t,n);case"throttle":return Lo(e,t,n);default:return e}},Ht=function(e){return typeof e=="function"},ze=function(){return typeof window>"u"},wn=function(e){return e instanceof Element||e instanceof HTMLDocument},Xn=function(e,r,t,n){return function(o){var l=o.width,i=o.height;r(function(a){return a.width===l&&a.height===i||a.width===l&&!n||a.height===i&&!t?a:(e&&Ht(e)&&e(l,i),{width:l,height:i})})}},Yn=function(e){Wn(r,e);function r(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var s=n.props,c=s.targetRef,v=s.observerOptions;if(!ze()){c&&c.current&&(n.targetRef.current=c.current);var h=n.getElement();h&&(n.observableElement&&n.observableElement===h||(n.observableElement=h,n.resizeObserver.observe(h,v)))}},n.getElement=function(){var s=n.props,c=s.querySelector,v=s.targetDomEl;if(ze())return null;if(c)return document.querySelector(c);if(v&&wn(v))return v;if(n.targetRef&&wn(n.targetRef.current))return n.targetRef.current;var h=Cn.findDOMNode(n);if(!h)return null;var y=n.getRenderType();switch(y){case"renderProp":return h;case"childFunction":return h;case"child":return h;case"childArray":return h;default:return h.parentElement}},n.createResizeHandler=function(s){var c=n.props,v=c.handleWidth,h=v===void 0?!0:v,y=c.handleHeight,g=y===void 0?!0:y,x=c.onResize;if(!(!h&&!g)){var C=Xn(x,n.setState.bind(n),h,g);s.forEach(function(j){var A=j&&j.contentRect||{},H=A.width,ne=A.height,re=!n.skipOnMount&&!ze();re&&C({width:H,height:ne}),n.skipOnMount=!1})}},n.getRenderType=function(){var s=n.props,c=s.render,v=s.children;return Ht(c)?"renderProp":Ht(v)?"childFunction":I.isValidElement(v)?"child":Array.isArray(v)?"childArray":"parent"};var o=t.skipOnMount,l=t.refreshMode,i=t.refreshRate,a=i===void 0?1e3:i,f=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=o,n.targetRef=I.createRef(),n.observableElement=null,ze()||(n.resizeHandler=Hn(n.createResizeHandler,l,a,f),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return r.prototype.componentDidMount=function(){this.attachObserver()},r.prototype.componentDidUpdate=function(){this.attachObserver()},r.prototype.componentWillUnmount=function(){ze()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},r.prototype.render=function(){var t=this.props,n=t.render,o=t.children,l=t.nodeType,i=l===void 0?"div":l,a=this.state,f=a.width,s=a.height,c={width:f,height:s,targetRef:this.targetRef},v=this.getRenderType(),h;switch(v){case"renderProp":return n&&n(c);case"childFunction":return h=o,h(c);case"child":if(h=o,h.type&&typeof h.type=="string"){c.targetRef;var y=Gn(c,["targetRef"]);return I.cloneElement(h,y)}return I.cloneElement(h,c);case"childArray":return h=o,h.map(function(g){return!!g&&I.cloneElement(g,c)});default:return I.createElement(i,null)}},r}(I.PureComponent);function Bo(e,r){r===void 0&&(r={});var t=function(l){Wn(i,l);function i(){var a=l!==null&&l.apply(this,arguments)||this;return a.ref=I.createRef(),a}return i.prototype.render=function(){var a=this.props,f=a.forwardedRef,s=Gn(a,["forwardedRef"]),c=f??this.ref;return I.createElement(Yn,Xe({},r,{targetRef:c}),I.createElement(e,Xe({targetRef:c},s)))},i}(I.Component);function n(l,i){return I.createElement(t,Xe({},l,{forwardedRef:i}))}var o=e.displayName||e.name;return n.displayName="withResizeDetector(".concat(o,")"),I.forwardRef(n)}var Vo=ze()?I.useEffect:I.useLayoutEffect;function Wo(e){e===void 0&&(e={});var r=e.skipOnMount,t=r===void 0?!1:r,n=e.refreshMode,o=e.refreshRate,l=o===void 0?1e3:o,i=e.refreshOptions,a=e.handleWidth,f=a===void 0?!0:a,s=e.handleHeight,c=s===void 0?!0:s,v=e.targetRef,h=e.observerOptions,y=e.onResize,g=I.useRef(t),x=I.useRef(null),C=v??x,j=I.useRef(),A=I.useState({width:void 0,height:void 0}),H=A[0],ne=A[1];return Vo(function(){if(!ze()){var re=Xn(y,ne,f,c),L=function(J){!f&&!c||J.forEach(function(oe){var ae=oe&&oe.contentRect||{},le=ae.width,G=ae.height,_=!g.current&&!ze();_&&re({width:le,height:G}),g.current=!1})};j.current=Hn(L,n,l,i);var Z=new window.ResizeObserver(j.current);return C.current&&Z.observe(C.current,h),function(){Z.disconnect();var J=j.current;J&&J.cancel&&J.cancel()}}},[n,l,i,f,c,y,h,C.current]),Xe({ref:C},H)}const Go=Object.freeze(Object.defineProperty({__proto__:null,default:Yn,useResizeDetector:Wo,withResizeDetector:Bo},Symbol.toStringTag,{value:"Module"})),Ko=Sn(Go);var Zn={};(function(e){var r=b&&b.__createBinding||(Object.create?function(g,x,C,j){j===void 0&&(j=C);var A=Object.getOwnPropertyDescriptor(x,C);(!A||("get"in A?!x.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return x[C]}}),Object.defineProperty(g,j,A)}:function(g,x,C,j){j===void 0&&(j=C),g[j]=x[C]}),t=b&&b.__setModuleDefault||(Object.create?function(g,x){Object.defineProperty(g,"default",{enumerable:!0,value:x})}:function(g,x){g.default=x}),n=b&&b.__importStar||function(g){if(g&&g.__esModule)return g;var x={};if(g!=null)for(var C in g)C!=="default"&&Object.prototype.hasOwnProperty.call(g,C)&&r(x,g,C);return t(x,g),x};Object.defineProperty(e,"__esModule",{value:!0}),e.useColumns=e.parseFlexValue=void 0;const o=n(I),l=()=>o.default.createElement(o.default.Fragment,null),i=()=>!1,a=({rowData:g})=>g,f=()=>null,s=({rowIndex:g})=>o.default.createElement(o.default.Fragment,null,g+1),c=()=>!0,v=g=>g,h=g=>{if(typeof g=="number")return{basis:0,grow:g,shrink:1};if(g.match(/^ *\d+(\.\d*)? *$/))return{basis:0,grow:parseFloat(g.trim()),shrink:1};if(g.match(/^ *\d+(\.\d*)? *px *$/))return{basis:parseFloat(g.trim()),grow:1,shrink:1};if(g.match(/^ *\d+(\.\d*)? \d+(\.\d*)? *$/)){const[x,C]=g.trim().split(" ");return{basis:0,grow:parseFloat(x),shrink:parseFloat(C)}}if(g.match(/^ *\d+(\.\d*)? \d+(\.\d*)? *px *$/)){const[x,C]=g.trim().split(" ");return{basis:parseFloat(C),grow:parseFloat(x),shrink:1}}if(g.match(/^ *\d+(\.\d*)? \d+(\.\d*)? \d+(\.\d*)? *px *$/)){const[x,C,j]=g.trim().split(" ");return{basis:parseFloat(j),grow:parseFloat(x),shrink:parseFloat(C)}}return{basis:0,grow:1,shrink:1}};e.parseFlexValue=h;const y=(g,x,C)=>(0,o.useMemo)(()=>{var j,A,H,ne,re,L,Z,J,oe,ae;const le=[x===!1?{basis:0,grow:0,shrink:0,minWidth:0,component:()=>o.default.createElement(o.default.Fragment,null),headerClassName:"dsg-hidden-cell",cellClassName:"dsg-hidden-cell",isCellEmpty:c}:Object.assign(Object.assign({},x),{basis:(j=x==null?void 0:x.basis)!==null&&j!==void 0?j:40,grow:(A=x==null?void 0:x.grow)!==null&&A!==void 0?A:0,shrink:(H=x==null?void 0:x.shrink)!==null&&H!==void 0?H:0,minWidth:(ne=x==null?void 0:x.minWidth)!==null&&ne!==void 0?ne:0,title:(re=x==null?void 0:x.title)!==null&&re!==void 0?re:o.default.createElement("div",{className:"dsg-corner-indicator"}),component:(L=x==null?void 0:x.component)!==null&&L!==void 0?L:s,isCellEmpty:c}),...g];return C&&le.push(Object.assign(Object.assign({},C),{basis:(Z=C==null?void 0:C.basis)!==null&&Z!==void 0?Z:40,grow:(J=C==null?void 0:C.grow)!==null&&J!==void 0?J:0,shrink:(oe=C==null?void 0:C.shrink)!==null&&oe!==void 0?oe:0,minWidth:(ae=C.minWidth)!==null&&ae!==void 0?ae:0,isCellEmpty:c})),le.map(G=>{var _,K,U,P,M,te,F,ee,ce,S,z,V,ge,Ee,ie,Te;const Se=G.width!==void 0?(0,e.parseFlexValue)(G.width):{basis:void 0,grow:void 0,shrink:void 0};return Object.assign(Object.assign({},G),{basis:(K=(_=G.basis)!==null&&_!==void 0?_:Se.basis)!==null&&K!==void 0?K:0,grow:(P=(U=G.grow)!==null&&U!==void 0?U:Se.grow)!==null&&P!==void 0?P:1,shrink:(te=(M=G.shrink)!==null&&M!==void 0?M:Se.shrink)!==null&&te!==void 0?te:1,minWidth:(F=G.minWidth)!==null&&F!==void 0?F:100,component:(ee=G.component)!==null&&ee!==void 0?ee:l,disableKeys:(ce=G.disableKeys)!==null&&ce!==void 0?ce:!1,disabled:(S=G.disabled)!==null&&S!==void 0?S:!1,keepFocus:(z=G.keepFocus)!==null&&z!==void 0?z:!1,deleteValue:(V=G.deleteValue)!==null&&V!==void 0?V:a,copyValue:(ge=G.copyValue)!==null&&ge!==void 0?ge:f,pasteValue:(Ee=G.pasteValue)!==null&&Ee!==void 0?Ee:a,prePasteValues:(ie=G.prePasteValues)!==null&&ie!==void 0?ie:v,isCellEmpty:(Te=G.isCellEmpty)!==null&&Te!==void 0?Te:i})})},[x,C,g]);e.useColumns=y})(Zn);var vt={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});function Xt(e,r,t,n){var o,l=!1,i=0;function a(){o&&clearTimeout(o)}function f(){a(),l=!0}typeof r!="boolean"&&(n=t,t=r,r=void 0);function s(){for(var c=arguments.length,v=new Array(c),h=0;h<c;h++)v[h]=arguments[h];var y=this,g=Date.now()-i;if(l)return;function x(){i=Date.now(),t.apply(y,v)}function C(){o=void 0}n&&!o&&x(),a(),n===void 0&&g>e?x():r!==!0&&(o=setTimeout(n?C:x,n===void 0?e-g:e))}return s.cancel=f,s}function Uo(e,r,t){return t===void 0?Xt(e,r,!1):Xt(e,t,r!==!1)}Ye.debounce=Uo;Ye.throttle=Xt;var rt={},Jn=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,o,l;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(o=n;o--!==0;)if(!e(r[o],t[o]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(l=Object.keys(r),n=l.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=n;o--!==0;){var i=l[o];if(!e(r[i],t[i]))return!1}return!0}return r!==r&&t!==t},ko=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rt,"__esModule",{value:!0});rt.useDeepEqualState=void 0;const On=I,qo=ko(Jn),Ho=e=>{const[r,t]=(0,On.useState)(e),n=(0,On.useCallback)(o=>{t(l=>{const i=typeof o=="function"?o(l):o;return(0,qo.default)(i,l)?l:i})},[t]);return[r,n]};rt.useDeepEqualState=Ho;Object.defineProperty(vt,"__esModule",{value:!0});vt.useEdges=void 0;const Xo=I,Yo=Ye,Zo=rt,Jo=(e,r,t)=>{const[n,o]=(0,Zo.useDeepEqualState)({top:!0,right:!0,bottom:!0,left:!0});return(0,Xo.useEffect)(()=>{const l=(0,Yo.throttle)(100,()=>{var a,f,s,c,v,h,y,g,x,C;o({top:((a=e.current)===null||a===void 0?void 0:a.scrollTop)===0,right:((s=(f=e.current)===null||f===void 0?void 0:f.scrollLeft)!==null&&s!==void 0?s:0)>=((v=(c=e.current)===null||c===void 0?void 0:c.scrollWidth)!==null&&v!==void 0?v:0)-(r??0)-1,bottom:((y=(h=e.current)===null||h===void 0?void 0:h.scrollTop)!==null&&y!==void 0?y:0)>=((x=(g=e.current)===null||g===void 0?void 0:g.scrollHeight)!==null&&x!==void 0?x:0)-(t??0)-1,left:((C=e.current)===null||C===void 0?void 0:C.scrollLeft)===0})}),i=e.current;return i==null||i.addEventListener("scroll",l),setTimeout(l,100),()=>{i==null||i.removeEventListener("scroll",l),l.cancel()}},[t,r,e,o]),n};vt.useEdges=Jo;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.useDocumentEventListener=void 0;const Qo=I,el=(e,r)=>{(0,Qo.useEffect)(()=>(document.addEventListener(e,r),()=>{document.removeEventListener(e,r)}),[r,e])};ot.useDocumentEventListener=el;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.useGetBoundingClientRect=void 0;const Kt=I,tl=Ye,nl=(e,r=200)=>{const t=(0,Kt.useRef)(null),n=(0,Kt.useMemo)(()=>(0,tl.throttle)(r,!0,()=>{setTimeout(()=>{var o;return t.current=((o=e.current)===null||o===void 0?void 0:o.getBoundingClientRect())||null},0)}),[e,r]);return(0,Kt.useCallback)((o=!1)=>{var l;return o?t.current=((l=e.current)===null||l===void 0?void 0:l.getBoundingClientRect())||null:n(),t.current},[e,n])};pt.useGetBoundingClientRect=nl;var Qt={};(function(e){var r=b&&b.__createBinding||(Object.create?function(i,a,f,s){s===void 0&&(s=f);var c=Object.getOwnPropertyDescriptor(a,f);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[f]}}),Object.defineProperty(i,s,c)}:function(i,a,f,s){s===void 0&&(s=f),i[s]=a[f]}),t=b&&b.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),n=b&&b.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var f in i)f!=="default"&&Object.prototype.hasOwnProperty.call(i,f)&&r(a,i,f);return t(a,i),a};Object.defineProperty(e,"__esModule",{value:!0}),e.AddRows=e.createAddRowsComponent=void 0;const o=n(I),l=(i={})=>({addRows:a})=>{var f,s;const[c,v]=(0,o.useState)(1),[h,y]=(0,o.useState)(String(c));return o.default.createElement("div",{className:"dsg-add-row"},o.default.createElement("button",{type:"button",className:"dsg-add-row-btn",onClick:()=>a(c)},(f=i.button)!==null&&f!==void 0?f:"Add")," ",o.default.createElement("input",{className:"dsg-add-row-input",value:h,onBlur:()=>y(String(c)),type:"number",min:1,onChange:g=>{y(g.target.value),v(Math.max(1,Math.round(parseInt(g.target.value)||0)))},onKeyDown:g=>{g.key==="Enter"&&a(c)}})," ",(s=i.unit)!==null&&s!==void 0?s:"rows")};e.createAddRowsComponent=l,e.AddRows=(0,e.createAddRowsComponent)(),e.AddRows.displayName="AddRows"})(Qt);var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.useDebounceState=void 0;const at=I,rl=Ye,ol=(e,r)=>{const[t,n]=(0,at.useState)(e),o=(0,at.useRef)();(0,at.useEffect)(()=>()=>{var i;return(i=o.current)===null||i===void 0?void 0:i.cancel()},[]);const l=(0,at.useMemo)(()=>o.current=(0,rl.debounce)(r,i=>{n(i)}),[r]);return[t,l]};gt.useDebounceState=ol;var en={};(function(e){var r=b&&b.__createBinding||(Object.create?function(s,c,v,h){h===void 0&&(h=v);var y=Object.getOwnPropertyDescriptor(c,v);(!y||("get"in y?!c.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return c[v]}}),Object.defineProperty(s,h,y)}:function(s,c,v,h){h===void 0&&(h=v),s[h]=c[v]}),t=b&&b.__setModuleDefault||(Object.create?function(s,c){Object.defineProperty(s,"default",{enumerable:!0,value:c})}:function(s,c){s.default=c}),n=b&&b.__importStar||function(s){if(s&&s.__esModule)return s;var c={};if(s!=null)for(var v in s)v!=="default"&&Object.prototype.hasOwnProperty.call(s,v)&&r(c,s,v);return t(c,s),c};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=e.createContextMenuComponent=e.defaultRenderItem=void 0;const o=n(I),l=I,i=ot,a=s=>s.type==="CUT"?o.createElement(o.Fragment,null,"Cut"):s.type==="COPY"?o.createElement(o.Fragment,null,"Copy"):s.type==="PASTE"?o.createElement(o.Fragment,null,"Paste"):s.type==="DELETE_ROW"?o.createElement(o.Fragment,null,"Delete row"):s.type==="DELETE_ROWS"?o.createElement(o.Fragment,null,"Delete rows ",o.createElement("b",null,s.fromRow)," to ",o.createElement("b",null,s.toRow)):s.type==="INSERT_ROW_BELLOW"?o.createElement(o.Fragment,null,"Insert row below"):s.type==="DUPLICATE_ROW"?o.createElement(o.Fragment,null,"Duplicate row"):s.type==="DUPLICATE_ROWS"?o.createElement(o.Fragment,null,"Duplicate rows ",o.createElement("b",null,s.fromRow)," to ",o.createElement("b",null,s.toRow)):s.type;e.defaultRenderItem=a;const f=(s=e.defaultRenderItem)=>({clientX:c,clientY:v,items:h,close:y})=>{const g=(0,l.useRef)(null),x=(0,l.useCallback)(C=>{var j;((j=g.current)===null||j===void 0?void 0:j.contains(C.target))||y()},[y]);return(0,i.useDocumentEventListener)("mousedown",x),o.createElement("div",{className:"dsg-context-menu",style:{left:c+"px",top:v+"px"},ref:g},h.map(C=>o.createElement("div",{key:C.type,onClick:C.action,className:"dsg-context-menu-item"},s(C))))};e.createContextMenuComponent=f,e.ContextMenu=(0,e.createContextMenuComponent)(e.defaultRenderItem),e.ContextMenu.displayName="ContextMenu"})(en);var Ce={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.parseDom=void 0;const ll=typeof DOMParser<"u"?new DOMParser:{parseFromString:()=>null},il=e=>ll.parseFromString(e,"text/html");bt.parseDom=il;Object.defineProperty(Ce,"__esModule",{value:!0});Ce.isPrintableUnicode=Ce.encodeHtml=Ce.parseTextPlainData=Ce.parseTextHtmlData=void 0;const sl=bt,al=e=>{var r,t;const n=(0,sl.parseDom)(e.replace(/<br\/?>/g,`
`)),o=n.getElementsByTagName("table")[0];if(o){const i=[];for(let a=0;a<o.rows.length;a++){const f=[];i.push(f);for(let s=0;s<o.rows[a].cells.length;s++)f.push((r=o.rows[a].cells[s].textContent)!==null&&r!==void 0?r:"")}return i}const l=n.getElementsByTagName("span")[0];return l?[[(t=l.textContent)!==null&&t!==void 0?t:""]]:[[""]]};Ce.parseTextHtmlData=al;const ul=e=>{const r=e.replace(/\r|\n$/g,""),t=[[]];let n=0,o=0,l=!1,i=0;const a=()=>{let f=r.slice(o,n);l&&f[f.length-1]==='"'&&f.includes(`
`)&&(f=f.slice(1,f.length-1).replace(/""/g,'"')),l&&f[f.length-1]!=='"'?f.split(`
`).forEach((s,c,{length:v})=>{t[i].push(s),c<v-1&&(t.push([]),i++)}):t[i].push(f)};for(;n<r.length;)l&&r[n]==='"'&&![void 0,"	",'"'].includes(r[n+1])&&(l=!1),l&&r[n]==='"'&&r[n+1]==='"'&&n++,n===o&&r[n]==='"'&&(l=!0),r[n]==="	"&&(a(),o=n+1,l=!1),r[n]===`
`&&!l&&(a(),t.push([]),o=n+1,i++),n++;return a(),t};Ce.parseTextPlainData=ul;const cl=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");Ce.encodeHtml=cl;const dl=e=>e.match(/^[^\x00-\x20\x7F-\x9F]$/)!==null;Ce.isPrintableUnicode=dl;var Qn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionWithId=e.getSelection=e.getCellWithId=e.getCell=void 0;const r=(l,i,a,f)=>{if(l===null||!i||!a)return null;if(typeof l!="object")throw new Error("Value must be an object or null");const s=f.findIndex(v=>v.id===l.col),c={col:Math.max(0,Math.min(i-1,s===-1?Number(l.col):s-1)),row:Math.max(0,Math.min(a-1,Number(l.row)))};if(isNaN(c.col)||isNaN(c.row))throw new Error("col or cell are not valid positive numbers");return c};e.getCell=r;const t=(l,i)=>{var a;return l?{col:l.col,row:l.row,colId:(a=i[l.col+1])===null||a===void 0?void 0:a.id}:null};e.getCellWithId=t;const n=(l,i,a,f)=>{if(l===null||!i||!a)return null;if(typeof l!="object")throw new Error("Value must be an object or null");const s={min:(0,e.getCell)(l.min,i,a,f),max:(0,e.getCell)(l.max,i,a,f)};if(!s.min||!s.max)throw new Error("min and max must be defined");return s};e.getSelection=n;const o=(l,i)=>l?{min:(0,e.getCellWithId)(l.min,i),max:(0,e.getCellWithId)(l.max,i)}:null;e.getSelectionWithId=o})(Qn);var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.getAllTabbableElements=void 0;const fl=()=>Array.from(document.querySelectorAll("*")).filter(e=>e instanceof HTMLElement&&typeof e.tabIndex=="number"&&e.tabIndex>=0&&!e.disabled&&(!(e instanceof HTMLAnchorElement)||!!e.href||e.getAttribute("tabIndex")!==null)&&getComputedStyle(e).visibility!=="collapse");_t.getAllTabbableElements=fl;var yt={};const hl=Sn(zr);var er={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var r={}.hasOwnProperty;function t(){for(var l="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(l=o(l,n(a)))}return l}function n(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var i="";for(var a in l)r.call(l,a)&&l[a]&&(i=o(i,a));return i}function o(l,i){return i?l?l+" "+i:l+i:l}e.exports?(t.default=t,e.exports=t):window.classNames=t})()})(er);var Ze=er.exports,wt={},tr=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.Cell=void 0;const ml=tr(I),vl=tr(Ze),pl=({children:e,gutter:r,stickyRight:t,active:n,disabled:o,className:l,width:i,left:a})=>ml.default.createElement("div",{className:(0,vl.default)("dsg-cell",r&&"dsg-cell-gutter",o&&"dsg-cell-disabled",r&&n&&"dsg-cell-gutter-active",t&&"dsg-cell-sticky-right",l),style:{width:i,left:t?void 0:a}},e);wt.Cell=pl;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.useMemoizedIndexCallback=void 0;const gl=I,bl=(e,r)=>(0,gl.useMemo)(()=>{const t=new Map;return n=>(t.has(n)||t.set(n,(...o)=>{e(n,...o.slice(0,r))}),t.get(n))},[r,e]);Ot.useMemoizedIndexCallback=bl;var _l=b&&b.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),yl=b&&b.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),wl=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&_l(r,e,t);return yl(r,e),r},Ol=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.Grid=void 0;const Ut=hl,Ie=wl(I),ut=Ol(Ze),xn=wt,ct=Ot,xl=({data:e,columns:r,outerRef:t,innerRef:n,columnWidths:o,hasStickyRightColumn:l,displayHeight:i,headerRowHeight:a,rowHeight:f,rowKey:s,fullWidth:c,selection:v,activeCell:h,rowClassName:y,cellClassName:g,children:x,editing:C,getContextMenuItems:j,setRowData:A,deleteRows:H,duplicateRows:ne,insertRowAfter:re,stopEditing:L,onScroll:Z})=>{var J,oe,ae,le;const G=(0,Ut.useVirtualizer)({count:e.length,getScrollElement:()=>t.current,paddingStart:a,estimateSize:S=>f(S).height,getItemKey:S=>{if(s&&S>0){const z=e[S-1];if(typeof s=="function")return s({rowData:z,rowIndex:S});if(typeof s=="string"&&z instanceof Object&&s in z){const V=z[s];if(typeof V=="string"||typeof V=="number")return V}}return S},overscan:5}),_=(0,Ut.useVirtualizer)({count:r.length,getScrollElement:()=>t.current,estimateSize:S=>{var z;return(z=o==null?void 0:o[S])!==null&&z!==void 0?z:100},horizontal:!0,getItemKey:S=>{var z;return(z=r[S].id)!==null&&z!==void 0?z:S},overscan:1,rangeExtractor:S=>{const z=(0,Ut.defaultRangeExtractor)(S);return z[0]!==0&&z.unshift(0),l&&z[z.length-1]!==r.length-1&&z.push(r.length-1),z}});(0,Ie.useEffect)(()=>{_.measure()},[_,o]);const K=(0,ct.useMemoizedIndexCallback)(A,1),U=(0,ct.useMemoizedIndexCallback)(H,0),P=(0,ct.useMemoizedIndexCallback)(ne,0),M=(0,ct.useMemoizedIndexCallback)(re,0),te=(J=v==null?void 0:v.min.col)!==null&&J!==void 0?J:h==null?void 0:h.col,F=(oe=v==null?void 0:v.max.col)!==null&&oe!==void 0?oe:h==null?void 0:h.col,ee=(ae=v==null?void 0:v.min.row)!==null&&ae!==void 0?ae:h==null?void 0:h.row,ce=(le=v==null?void 0:v.max.row)!==null&&le!==void 0?le:h==null?void 0:h.row;return Ie.default.createElement("div",{ref:t,className:"dsg-container",onScroll:Z,style:{height:i}},Ie.default.createElement("div",{ref:n,style:{width:c?"100%":_.getTotalSize(),height:G.getTotalSize()}},a>0&&Ie.default.createElement("div",{className:(0,ut.default)("dsg-row","dsg-row-header"),style:{width:c?"100%":_.getTotalSize(),height:a}},_.getVirtualItems().map(S=>Ie.default.createElement(xn.Cell,{key:S.key,gutter:S.index===0,stickyRight:l&&S.index===r.length-1,width:S.size,left:S.start,className:(0,ut.default)("dsg-cell-header",te!==void 0&&F!==void 0&&te<=S.index-1&&F>=S.index-1&&"dsg-cell-header-active",r[S.index].headerClassName)},Ie.default.createElement("div",{className:"dsg-cell-header-container"},r[S.index].title)))),G.getVirtualItems().map(S=>{const z=S.index>=(ee??1/0)&&S.index<=(ce??-1/0);return Ie.default.createElement("div",{key:S.key,className:(0,ut.default)("dsg-row",typeof y=="string"?y:null,typeof y=="function"?y({rowData:e[S.index],rowIndex:S.index}):null),style:{height:S.size,top:S.start,width:c?"100%":_.getTotalSize()}},_.getVirtualItems().map(V=>{const ge=r[V.index].cellClassName,Ee=r[V.index].disabled,ie=r[V.index].component,Te=Ee===!0||typeof Ee=="function"&&Ee({rowData:e[S.index],rowIndex:S.index}),Se=(h==null?void 0:h.row)===S.index&&h.col===V.index-1;return Ie.default.createElement(xn.Cell,{key:V.key,gutter:V.index===0,stickyRight:l&&V.index===r.length-1,active:V.index===0&&z,disabled:Te,className:(0,ut.default)(typeof ge=="function"?ge({rowData:e[S.index],rowIndex:S.index,columnId:r[V.index].id}):ge,typeof g=="function"?g({rowData:e[S.index],rowIndex:S.index,columnId:r[V.index].id}):g),width:V.size,left:V.start},Ie.default.createElement(ie,{rowData:e[S.index],getContextMenuItems:j,disabled:Te,active:Se,columnIndex:V.index-1,rowIndex:S.index,focus:Se&&C,deleteRow:U(S.index),duplicateRow:P(S.index),stopEditing:L,insertRowBelow:M(S.index),setRowData:K(S.index),columnData:r[V.index].columnData}))}))}),x))};yt.Grid=xl;var nr={};(function(e){var r=b&&b.__createBinding||(Object.create?function(s,c,v,h){h===void 0&&(h=v);var y=Object.getOwnPropertyDescriptor(c,v);(!y||("get"in y?!c.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return c[v]}}),Object.defineProperty(s,h,y)}:function(s,c,v,h){h===void 0&&(h=v),s[h]=c[v]}),t=b&&b.__setModuleDefault||(Object.create?function(s,c){Object.defineProperty(s,"default",{enumerable:!0,value:c})}:function(s,c){s.default=c}),n=b&&b.__importStar||function(s){if(s&&s.__esModule)return s;var c={};if(s!=null)for(var v in s)v!=="default"&&Object.prototype.hasOwnProperty.call(s,v)&&r(c,s,v);return t(c,s),c},o=b&&b.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRect=void 0;const l=n(I),i=o(Ze),a=(s,c,v,h)=>[[h,s],[c,s],[c,v],[h,v],[h,s]],f=(s,c,v,h)=>`polygon(evenodd, ${[...a(0,"100%","100%",0),...a(s,c,v,h)].map(g=>g.map(x=>typeof x=="number"&&x!==0?x+"px":x).join(" ")).join(",")})`;e.SelectionRect=l.default.memo(({columnWidths:s,columnRights:c,headerRowHeight:v,selection:h,rowHeight:y,activeCell:g,hasStickyRightColumn:x,dataLength:C,viewWidth:j,viewHeight:A,contentWidth:H,edges:ne,isCellDisabled:re,editing:L,expandSelection:Z})=>{var J,oe,ae,le;const G=g?re(g):!1,_=(0,l.useMemo)(()=>{if(!h)return G;for(let S=h.min.col;S<=h.max.col;++S)for(let z=h.min.row;z<=h.max.row;++z)if(!re({col:S,row:z}))return!1;return!0},[G,re,h]);if(!s||!c)return null;const K=S=>S<C-1?1:0,U=S=>S<s.length-(x?3:2)?1:0,P=g&&{width:s[g.col+1]+U(g.col),height:y(g.row).height+K(g.row),left:c[g.col],top:y(g.row).top+v},M=h&&{width:s.slice(h.min.col+1,h.max.col+2).reduce((S,z)=>S+z)+U(h.max.col),height:y(h.max.row).top+y(h.max.row).height-y(h.min.row).top+K(h.max.row),left:c[h.min.col],top:y(h.min.row).top+v},te=(h==null?void 0:h.min)||g,F=(h==null?void 0:h.max)||g,ee=F&&Z!==null&&{left:c[F.col]+s[F.col+1],top:y(F.row).top+y(F.row).height+v,transform:`translate(-${F.col<s.length-(x?3:2)?50:100}%, -${F.row<C-1?50:100}%)`},ce=te&&F&&Z!==null&&{width:s.slice(te.col+1,F.col+2).reduce((S,z)=>S+z)+U(F.col),height:y(F.row+Z).top+y(F.row+Z).height-y(F.row+1).top+K(F.row+Z)-1,left:c[te.col],top:y(F.row).top+y(F.row).height+v+1};return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:"dsg-scrollable-view-container",style:{height:y(C-1).top+y(C-1).height+v,width:H||"100%"}},l.default.createElement("div",{className:(0,i.default)({"dsg-scrollable-view":!0,"dsg-scrollable-view-t":!ne.top,"dsg-scrollable-view-r":!ne.right,"dsg-scrollable-view-b":!ne.bottom,"dsg-scrollable-view-l":!ne.left}),style:{top:v,left:s[0],height:A?A-v:0,width:H&&j?j-s[0]-(x?s[s.length-1]:0):`calc(100% - ${s[0]+(x?s[s.length-1]:0)}px)`}})),(M||P)&&l.default.createElement("div",{className:"dsg-selection-col-marker-container",style:{left:(J=M==null?void 0:M.left)!==null&&J!==void 0?J:P==null?void 0:P.left,width:(oe=M==null?void 0:M.width)!==null&&oe!==void 0?oe:P==null?void 0:P.width,height:y(C-1).top+y(C-1).height+v}},l.default.createElement("div",{className:(0,i.default)("dsg-selection-col-marker",_&&"dsg-selection-col-marker-disabled"),style:{top:v}})),(M||P)&&l.default.createElement("div",{className:"dsg-selection-row-marker-container",style:{top:(ae=M==null?void 0:M.top)!==null&&ae!==void 0?ae:P==null?void 0:P.top,height:(le=M==null?void 0:M.height)!==null&&le!==void 0?le:P==null?void 0:P.height,width:H||"100%"}},l.default.createElement("div",{className:(0,i.default)("dsg-selection-row-marker",_&&"dsg-selection-row-marker-disabled"),style:{left:s[0]}})),P&&g&&l.default.createElement("div",{className:(0,i.default)("dsg-active-cell",{"dsg-active-cell-focus":L,"dsg-active-cell-disabled":G}),style:P}),M&&P&&l.default.createElement("div",{className:(0,i.default)("dsg-selection-rect",_&&"dsg-selection-rect-disabled"),style:Object.assign(Object.assign({},M),{clipPath:f(P.top-M.top,P.left-M.left,P.top+P.height-M.top,P.left+P.width-M.left)})}),ce&&l.default.createElement("div",{className:(0,i.default)("dsg-expand-rows-rect"),style:ce}),ee&&l.default.createElement("div",{className:(0,i.default)("dsg-expand-rows-indicator",_&&"dsg-expand-rows-indicator-disabled"),style:ee}))}),e.SelectionRect.displayName="SelectionRect"})(nr);var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.useRowHeights=void 0;const kt=I,El=({value:e,rowHeight:r})=>{const t=(0,kt.useRef)([]),[,n]=(0,kt.useState)(0);return(0,kt.useMemo)(()=>{const o=l=>{if(typeof r=="number")return Math.min(e.length-1,Math.max(-1,Math.floor(l/r)));let i=0,a=t.current.length-1;for(;i<=a;){const f=Math.floor((i+a)/2);if(t.current[f].top<l)i=f+1;else if(t.current[f].top>l)a=f-1;else return f}if(a===t.current.length-1&&e.length>t.current.length&&(!t.current.length||l>=t.current[a].top+t.current[a].height)){let f=a===-1?0:t.current[a].top+t.current[a].height;do{a++;const s=r({rowIndex:a,rowData:e[a]});t.current.push({height:s,top:f}),f+=s}while(f<=l&&a<t.current.length-1)}return a};return{resetAfter:l=>{t.current=t.current.slice(0,l),n(i=>i+1)},getRowSize:l=>{if(typeof r=="number")return{height:r,top:r*l};if(l>=e.length)return{height:0,top:0};if(l<t.current.length)return t.current[l];let i=t.current[t.current.length-1].top+t.current[t.current.length-1].height;for(let a=t.current.length;a<=l;a++){const f=r({rowIndex:a,rowData:e[a]});t.current.push({height:f,top:i}),i+=f}return t.current[l]},getRowIndex:o,totalSize:l=>{if(typeof r=="number")return e.length*r;const i=o(l);return t.current[i].top+t.current[i].height}}},[r,e])};xt.useRowHeights=El;(function(e){var r=b&&b.__createBinding||(Object.create?function(_,K,U,P){P===void 0&&(P=U);var M=Object.getOwnPropertyDescriptor(K,U);(!M||("get"in M?!K.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return K[U]}}),Object.defineProperty(_,P,M)}:function(_,K,U,P){P===void 0&&(P=U),_[P]=K[U]}),t=b&&b.__setModuleDefault||(Object.create?function(_,K){Object.defineProperty(_,"default",{enumerable:!0,value:K})}:function(_,K){_.default=K}),n=b&&b.__importStar||function(_){if(_&&_.__esModule)return _;var K={};if(_!=null)for(var U in _)U!=="default"&&Object.prototype.hasOwnProperty.call(_,U)&&r(K,_,U);return t(K,_),K},o=b&&b.__awaiter||function(_,K,U,P){function M(te){return te instanceof U?te:new U(function(F){F(te)})}return new(U||(U=Promise))(function(te,F){function ee(z){try{S(P.next(z))}catch(V){F(V)}}function ce(z){try{S(P.throw(z))}catch(V){F(V)}}function S(z){z.done?te(z.value):M(z.value).then(ee,ce)}S((P=P.apply(_,K||[])).next())})},l=b&&b.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataSheetGrid=void 0;const i=n(I),a=Vn,f=Ko,s=Zn,c=vt,v=rt,h=ot,y=pt,g=Qt,x=gt,C=l(Jn),j=en,A=Ce,H=Qn,ne=_t,re=yt,L=nr,Z=xt,J=[],oe=[],ae=()=>({}),le=()=>null,G=({rowData:_})=>Object.assign({},_);e.DataSheetGrid=i.default.memo(i.default.forwardRef(({value:_=J,className:K,style:U,height:P=400,onChange:M=le,columns:te=oe,rowHeight:F=40,headerRowHeight:ee=typeof F=="number"?F:40,gutterColumn:ce,stickyRightColumn:S,rowKey:z,addRowsComponent:V=g.AddRows,createRow:ge=ae,autoAddRow:Ee=!1,lockRows:ie=!1,disableExpandSelection:Te=!1,duplicateRow:Se=G,contextMenuComponent:ar=j.ContextMenu,disableContextMenu:ur=!1,onFocus:tn=le,onBlur:nn=le,onActiveCellChange:rn=le,onSelectionChange:on=le,rowClassName:cr,cellClassName:dr,onScroll:fr},hr)=>{var Pt,zt,Nt,At,$t,Ft;const $e=(0,i.useRef)(null),ln=ur||ie,D=(0,s.useColumns)(te,ce,S),k=!!S,lt=(0,i.useRef)(null),Oe=(0,i.useRef)(null),Lt=(0,i.useRef)(null),Bt=(0,i.useRef)(null),[mr,vr]=(0,x.useDebounceState)(1,100),{getRowSize:Fe,totalSize:pr,getRowIndex:sn}=(0,Z.useRowHeights)({value:_,rowHeight:F}),an=Math.min(P,ee+pr(P)+mr),{width:Le,height:Ne}=(0,f.useResizeDetector)({targetRef:Oe,refreshMode:"throttle",refreshRate:100});vr(Ne?an-Ne:0);const gr=(0,c.useEdges)(Oe,Le,Ne),{fullWidth:un,totalWidth:br,columnWidths:be,columnRights:xe}=(0,a.useColumnWidths)(D,Le),[Be,_e]=(0,i.useState)(null),[Ve,_r]=(0,i.useState)([]),[X,se]=(0,i.useState)(!1),[We,cn]=(0,i.useState)(0),[Ge,dn]=(0,i.useState)(null),[d,B]=(0,v.useDeepEqualState)(null),[ue,$]=(0,v.useDeepEqualState)(null),m=(0,i.useMemo)(()=>d&&ue&&{min:{col:Math.min(d.col,ue.col),row:Math.min(d.row,ue.row)},max:{col:Math.max(d.col,ue.col),row:Math.max(d.row,ue.row)}},[d,ue]),[De,Ke]=(0,v.useDeepEqualState)({columns:!1,rows:!1,active:!1}),yr=Te||X||De.active||(d==null?void 0:d.row)===(_==null?void 0:_.length)-1||(m==null?void 0:m.max.row)===(_==null?void 0:_.length)-1||d&&D.slice(((Pt=m==null?void 0:m.min.col)!==null&&Pt!==void 0?Pt:d.col)+1,((zt=m==null?void 0:m.max.col)!==null&&zt!==void 0?zt:d.col)+2).every(u=>u.disabled===!0)?null:We,fn=(0,y.useGetBoundingClientRect)(lt),hn=(0,y.useGetBoundingClientRect)(Oe);(0,i.useEffect)(()=>{var u;d!==null&&(document.activeElement.blur(),(u=window.getSelection())===null||u===void 0||u.removeAllRanges())},[d!==null]);const Ae=(0,i.useCallback)((u,p=!1,w=!1)=>{const O=fn(p),R=w&&hn(p);if(O&&xe&&be){let q=u.clientX-O.left,E=u.clientY-O.top;return R&&(u.clientY-R.top<=ee&&(E=0),u.clientX-R.left<=be[0]&&(q=0),k&&R.right-u.clientX<=be[be.length-1]&&(q=xe[xe.length-2]+1)),{col:xe.findIndex(N=>q<N)-1,row:sn(E-ee)}}return null},[xe,be,_.length,fn,hn,ee,k,sn]),he=(0,i.useRef)(_);he.current=_;const me=(0,i.useCallback)(u=>{const p=D[u.col+1].disabled;return!!(typeof p=="function"?p({rowData:he.current[u.row],rowIndex:u.row}):p)},[D]),Me=(0,i.useCallback)((u,p=1)=>{ie||($(null),se(!1),M([...he.current.slice(0,u+1),...new Array(p).fill(0).map(ge),...he.current.slice(u+1)],[{type:"CREATE",fromRowIndex:u+1,toRowIndex:u+1+p}]),B(w=>({col:(w==null?void 0:w.col)||0,row:u+p,doNotScrollX:!0})))},[ge,ie,M,B,$]),Ue=(0,i.useCallback)((u,p=u)=>{ie||(M([...he.current.slice(0,p+1),...he.current.slice(u,p+1).map((w,O)=>Se({rowData:w,rowIndex:O+u})),...he.current.slice(p+1)],[{type:"CREATE",fromRowIndex:p+1,toRowIndex:p+2+p-u}]),B({col:0,row:p+1,doNotScrollX:!0}),$({col:D.length-(k?3:2),row:2*p-u+1,doNotScrollX:!0}),se(!1))},[D.length,Se,ie,M,B,$,k]),Re=(0,i.useCallback)(u=>{if(!(!Ne||!Le)){if(!u.doNotScrollY){const p=Fe(u.row).top,w=Fe(u.row).top+Fe(u.row).height+ee-Ne+1,O=Oe.current.scrollTop;O>p?Oe.current.scrollTop=p:O<w&&(Oe.current.scrollTop=w)}if(xe&&be&&Oe.current&&!u.doNotScrollX){const p=xe[u.col]-xe[0],w=xe[u.col]+be[u.col+1]+(k?be[be.length-1]:0)-Le+1,O=Oe.current.scrollLeft;O>p?Oe.current.scrollLeft=p:O<w&&(Oe.current.scrollLeft=w)}}},[Ne,Le,ee,xe,be,Fe,k]);(0,i.useEffect)(()=>{ue&&Re(ue)},[ue,Re]),(0,i.useEffect)(()=>{d&&Re(d)},[d,Re]);const wr=(0,i.useCallback)((u,p)=>{var w,O;M([...(w=he.current)===null||w===void 0?void 0:w.slice(0,u),p,...(O=he.current)===null||O===void 0?void 0:O.slice(u+1)],[{type:"UPDATE",fromRowIndex:u,toRowIndex:u+1}])},[M]),ke=(0,i.useCallback)((u,p=u)=>{ie||(se(!1),B(w=>{const O=Math.min(he.current.length-2-p+u,u);return O<0?null:w&&{col:w.col,row:O}}),$(null),M([...he.current.slice(0,u),...he.current.slice(p+1)],[{type:"DELETE",fromRowIndex:u,toRowIndex:p+1}]))},[ie,M,B,$]),it=(0,i.useCallback)((u=!0)=>{if(!d)return;const p=(m==null?void 0:m.min)||d,w=(m==null?void 0:m.max)||d;if(_.slice(p.row,w.row+1).every((R,q)=>D.every(E=>E.isCellEmpty({rowData:R,rowIndex:q+p.row})))){u&&ke(p.row,w.row);return}const O=[..._];for(let R=p.row;R<=w.row;++R)for(let q=p.col;q<=w.col;++q)if(!me({col:q,row:R})){const{deleteValue:E=({rowData:N})=>N}=D[q+1];O[R]=E({rowData:O[R],rowIndex:R})}if(u&&(0,C.default)(O,_)){B({col:0,row:p.row,doNotScrollX:!0}),$({col:D.length-(k?3:2),row:w.row,doNotScrollX:!0});return}M(O,[{type:"UPDATE",fromRowIndex:p.row,toRowIndex:w.row+1}])},[d,D,_,ke,me,M,m==null?void 0:m.max,m==null?void 0:m.min,B,$,k]),Vt=(0,i.useCallback)(({nextRow:u=!0}={})=>{(d==null?void 0:d.row)===he.current.length-1?u&&Ee?Me(d.row):se(!1):(se(!1),u&&B(p=>p&&{col:p.col,row:p.row+1}))},[d==null?void 0:d.row,Ee,Me,B]),Je=(0,i.useCallback)(u=>o(void 0,void 0,void 0,function*(){var p,w;if(!X&&d){const O=[],R=(m==null?void 0:m.min)||d,q=(m==null?void 0:m.max)||d;for(let T=R.row;T<=q.row;++T){O.push([]);for(let Y=R.col;Y<=q.col;++Y){const{copyValue:Q=()=>null}=D[Y+1];O[T-R.row].push(Q({rowData:_[T],rowIndex:T}))}}const E=O.map(T=>T.join("	")).join(`
`),N=`<table>${O.map(T=>`<tr>${T.map(Y=>`<td>${(0,A.encodeHtml)(String(Y??"")).replace(/\n/g,"<br/>")}</td>`).join("")}</tr>`).join("")}</table>`;if(u!==void 0){(p=u.clipboardData)===null||p===void 0||p.setData("text/plain",E),(w=u.clipboardData)===null||w===void 0||w.setData("text/html",N),u.preventDefault();return}let W=!1;if(navigator.clipboard.write!==void 0){const T=new Blob([E],{type:"text/plain"}),Y=new Blob([N],{type:"text/html"}),Q=[new ClipboardItem({"text/plain":T,"text/html":Y})];yield navigator.clipboard.write(Q).then(()=>{W=!0})}else navigator.clipboard.writeText!==void 0?yield navigator.clipboard.writeText(E).then(()=>{W=!0}):document.execCommand!==void 0&&document.execCommand("copy")&&(W=!0);W||alert("This action is unavailable in your browser, but you can still use Ctrl+C for copy or Ctrl+X for cut")}}),[d,D,_,X,m]);(0,h.useDocumentEventListener)("copy",Je);const Wt=(0,i.useCallback)(u=>{!X&&d&&(Je(u),it(!1))},[d,it,X,Je]);(0,h.useDocumentEventListener)("cut",Wt);const Qe=(0,i.useCallback)(u=>o(void 0,void 0,void 0,function*(){var p,w;if(!X&&d){const O=(m==null?void 0:m.min)||d,R=(m==null?void 0:m.max)||d,q=yield Promise.all(u[0].map((E,N)=>{var W,T;const Y=(W=D[O.col+N+1])===null||W===void 0?void 0:W.prePasteValues,Q=u.map(ve=>ve[N]);return(T=Y==null?void 0:Y(Q))!==null&&T!==void 0?T:Q}));if(u=u.map((E,N)=>q.map(W=>W[N])),u.length===1){const E=[..._];for(let N=0;N<u[0].length;N++){const W=(p=D[O.col+N+1])===null||p===void 0?void 0:p.pasteValue;if(W)for(let T=O.row;T<=R.row;T++)me({col:N+O.col,row:T})||(E[T]=yield W({rowData:E[T],value:u[0][N],rowIndex:T}))}M(E,[{type:"UPDATE",fromRowIndex:O.row,toRowIndex:R.row+1}]),B({col:O.col,row:O.row}),$({col:Math.min(O.col+u[0].length-1,D.length-(k?3:2)),row:R.row})}else{let E=[..._];const N=O.row+u.length-_.length;N>0&&(ie?u.splice(u.length-N,N):E=[...E,...new Array(N).fill(0).map(()=>ge())]);for(let T=0;T<u[0].length&&O.col+T<D.length-(k?2:1);T++){const Y=(w=D[O.col+T+1])===null||w===void 0?void 0:w.pasteValue;if(Y)for(let Q=0;Q<u.length;Q++)me({col:O.col+T,row:O.row+Q})||(E[O.row+Q]=yield Y({rowData:E[O.row+Q],value:u[Q][T],rowIndex:O.row+Q}))}const W=[{type:"UPDATE",fromRowIndex:O.row,toRowIndex:O.row+u.length-(!ie&&N>0?N:0)}];N>0&&!ie&&W.push({type:"CREATE",fromRowIndex:O.row+u.length-N,toRowIndex:O.row+u.length}),M(E,W),B({col:O.col,row:O.row}),$({col:Math.min(O.col+u[0].length-1,D.length-(k?3:2)),row:O.row+u.length-1})}}}),[d,D,ge,_,X,k,me,ie,M,m==null?void 0:m.max,m==null?void 0:m.min,B,$]),Or=(0,i.useCallback)(u=>{var p,w,O,R,q,E;if(d&&!X){let N=[[""]];!((p=u.clipboardData)===null||p===void 0)&&p.types.includes("text/html")?N=(0,A.parseTextHtmlData)((w=u.clipboardData)===null||w===void 0?void 0:w.getData("text/html")):!((O=u.clipboardData)===null||O===void 0)&&O.types.includes("text/plain")?N=(0,A.parseTextPlainData)((R=u.clipboardData)===null||R===void 0?void 0:R.getData("text/plain")):!((q=u.clipboardData)===null||q===void 0)&&q.types.includes("text")&&(N=(0,A.parseTextPlainData)((E=u.clipboardData)===null||E===void 0?void 0:E.getData("text"))),Qe(N),u.preventDefault()}},[d,Qe,X]);(0,h.useDocumentEventListener)("paste",Or);const xr=(0,i.useCallback)(u=>{var p,w,O;if(Be&&Ve.length)return;const R=u.button===2||u.button===0&&u.ctrlKey,q=((p=lt.current)===null||p===void 0?void 0:p.contains(u.target))||!1,E=q?Ae(u,!0,!0):null;if(!q&&X&&d&&D[d.col+1].keepFocus)return;if(u.target instanceof HTMLElement&&u.target.className.includes("dsg-expand-rows-indicator")){dn(Math.max((w=d==null?void 0:d.row)!==null&&w!==void 0?w:0,(O=m==null?void 0:m.max.row)!==null&&O!==void 0?O:0));return}const N=E&&d&&d.col===E.col&&d.row===E.row&&!me(d);if(N&&X)return;const W=(E==null?void 0:E.col)===D.length-2&&k,T=R&&m&&E&&E.row>=m.min.row&&E.row<=m.max.row&&E.col>=m.min.col&&E.col<=m.max.col,Y=R&&m&&E&&E.row===-1&&E.col>=m.min.col&&E.col<=m.max.col,Q=R&&m&&E&&E.row>=m.min.row&&E.row<=m.max.row&&E.col===-1,ve=W&&m&&E&&E.row>=m.min.row&&E.row<=m.max.row;if(R&&!ln&&_e({x:u.clientX,y:u.clientY,cursorIndex:E}),(!(u.shiftKey&&d)||R)&&_.length>0&&B(E&&{col:(T||Y)&&d?d.col:Math.max(0,W?0:E.col),row:(T||Q||ve)&&d?d.row:Math.max(0,E.row),doNotScrollX:!!(T&&d||W||E.col===-1),doNotScrollY:!!(T&&d||E.row===-1)}),N&&!R&&($e.current=d),se(!!(N&&!R)),Ke(E&&!R?{columns:E.col!==-1&&!W||!!(u.shiftKey&&d),rows:E.row!==-1||!!(u.shiftKey&&d),active:!0}:{columns:!1,rows:!1,active:!1}),u.shiftKey&&d&&!R)$(E&&{col:Math.max(0,E.col-(W?1:0)),row:Math.max(0,E.row)});else if(!T){if(E&&((E==null?void 0:E.col)===-1||(E==null?void 0:E.row)===-1||W)){let de=E.col,pe=E.row,fe=!1,ye=!1;(E.col===-1||W)&&(de=D.length-(k?3:2),fe=!0),E.row===-1&&(pe=_.length-1,ye=!0),Y&&ue&&(de=ue.col,ye=!0),(Q||ve)&&ue&&(pe=ue.row,fe=!0),$({col:de,row:pe,doNotScrollX:fe,doNotScrollY:ye})}else $(null);q&&u.preventDefault()}},[Be,Ve.length,Ae,X,d,D,me,m,k,ln,Ke,B,$,ue,_.length]);(0,h.useDocumentEventListener)("mousedown",xr);const Er=(0,i.useCallback)(()=>{var u,p,w,O,R,q,E,N,W;if(Ge!==null){if(We>0&&d){let T=[];const Y=(m==null?void 0:m.min)||d,Q=(m==null?void 0:m.max)||d;for(let ve=Y.row;ve<=Q.row;++ve){T.push([]);for(let de=Y.col;de<=Q.col;++de){const{copyValue:pe=()=>null}=D[de+1];T[ve-Y.row].push(String((u=pe({rowData:_[ve],rowIndex:ve}))!==null&&u!==void 0?u:""))}}Promise.all(T[0].map((ve,de)=>{var pe,fe;const ye=(pe=D[Y.col+de+1])===null||pe===void 0?void 0:pe.prePasteValues,we=T.map(Rr=>Rr[de]);return(fe=ye==null?void 0:ye(we))!==null&&fe!==void 0?fe:we})).then(ve=>{var de;T=T.map((fe,ye)=>ve.map(we=>we[ye]));const pe=[..._];for(let fe=0;fe<T[0].length;fe++){const ye=(de=D[Y.col+fe+1])===null||de===void 0?void 0:de.pasteValue;if(ye)for(let we=Q.row+1;we<=Q.row+We;we++)me({col:fe+Y.col,row:we})||(pe[we]=ye({rowData:pe[we],value:T[(we-Q.row-1)%T.length][fe],rowIndex:we}))}M(pe,[{type:"UPDATE",fromRowIndex:Q.row+1,toRowIndex:Q.row+1+We}])}),cn(0),B({col:Math.min((p=d==null?void 0:d.col)!==null&&p!==void 0?p:1/0,(w=m==null?void 0:m.min.col)!==null&&w!==void 0?w:1/0),row:Math.min((O=d==null?void 0:d.row)!==null&&O!==void 0?O:1/0,(R=m==null?void 0:m.min.row)!==null&&R!==void 0?R:1/0),doNotScrollX:!0,doNotScrollY:!0}),$({col:Math.max((q=d==null?void 0:d.col)!==null&&q!==void 0?q:0,(E=m==null?void 0:m.max.col)!==null&&E!==void 0?E:0),row:Math.max((N=d==null?void 0:d.row)!==null&&N!==void 0?N:0,(W=m==null?void 0:m.max.row)!==null&&W!==void 0?W:0)+We})}dn(null)}Ke({columns:!1,rows:!1,active:!1})},[Ge,Ke,We,d,m==null?void 0:m.min,m==null?void 0:m.max,_,M,B,$,D,me]);(0,h.useDocumentEventListener)("mouseup",Er);const Cr=(0,i.useCallback)(u=>{if(Ge!==null){const p=Ae(u);p&&(cn(Math.max(0,p.row-Ge)),Re({col:p.col,row:Math.max(p.row,Ge)}))}if(De.active){const p=Ae(u),w=D.length-(k?3:2);$(p&&{col:De.columns?Math.max(0,Math.min(w,p.col)):w,row:De.rows?Math.max(0,p.row):_.length-1,doNotScrollX:!De.columns,doNotScrollY:!De.rows}),se(!1)}},[Re,De.active,De.columns,De.rows,Ae,D.length,k,$,_.length,Ge]);(0,h.useDocumentEventListener)("mousemove",Cr);const Sr=(0,i.useCallback)(u=>{if(d&&!u.isComposing){if(u.key==="Tab"&&!u.shiftKey&&d.col===D.length-(k?3:2)&&!D[d.col+1].disableKeys)if(d.row===_.length-1){if(Bt.current){u.preventDefault(),B(null),$(null),se(!1);const p=(0,ne.getAllTabbableElements)(),w=p.indexOf(Bt.current);p[(w+1)%p.length].focus();return}}else{B(p=>{var w;return{col:0,row:((w=p==null?void 0:p.row)!==null&&w!==void 0?w:0)+1}}),$(null),se(!1),u.preventDefault();return}if(u.key==="Tab"&&u.shiftKey&&d.col===0&&!D[d.col+1].disableKeys)if(d.row===0){if(Lt.current){u.preventDefault(),B(null),$(null),se(!1);const p=(0,ne.getAllTabbableElements)(),w=p.indexOf(Lt.current);p[(w-1+p.length)%p.length].focus();return}}else{B(p=>{var w;return{col:D.length-(k?3:2),row:((w=p==null?void 0:p.row)!==null&&w!==void 0?w:1)-1}}),$(null),se(!1),u.preventDefault();return}if(u.key.startsWith("Arrow")||u.key==="Tab"){if(X&&D[d.col+1].disableKeys||X&&["ArrowLeft","ArrowRight"].includes(u.key))return;const p=([w,O],R)=>R&&{col:Math.max(0,Math.min(D.length-(k?3:2),R.col+w)),row:Math.max(0,Math.min(_.length-1,R.row+O))};if(u.key==="Tab"&&u.shiftKey)B(w=>p([-1,0],w)),$(null);else{const w={ArrowDown:[0,1],ArrowUp:[0,-1],ArrowLeft:[-1,0],ArrowRight:[1,0],Tab:[1,0]}[u.key];(u.ctrlKey||u.metaKey)&&(w[0]*=D.length,w[1]*=_.length),u.shiftKey?$(O=>p(w,O||d)):(B(O=>p(w,O)),$(null))}se(!1),u.preventDefault()}else u.key==="Escape"?(!X&&!ue&&B(null),$(null),se(!1)):(u.key==="Enter"||u.key==="F2")&&!u.ctrlKey&&!u.metaKey&&!u.altKey&&!u.shiftKey?($(null),X?D[d.col+1].disableKeys||(Vt(),u.preventDefault()):me(d)||($e.current=d,se(!0),Re(d),u.preventDefault())):u.key==="Enter"&&!u.ctrlKey&&!u.metaKey&&!u.altKey&&u.shiftKey?Me((m==null?void 0:m.max.row)||d.row):u.key==="d"&&(u.ctrlKey||u.metaKey)&&!u.altKey&&!u.shiftKey?(Ue((m==null?void 0:m.min.row)||d.row,m==null?void 0:m.max.row),u.preventDefault()):((0,A.isPrintableUnicode)(u.key)||u.code.match(/Key[A-Z]$/))&&!u.ctrlKey&&!u.metaKey&&!u.altKey?!X&&!me(d)&&($e.current=d,$(null),se(!0),Re(d)):["Backspace","Delete"].includes(u.key)?X||(it(),u.preventDefault()):u.key==="a"&&(u.ctrlKey||u.metaKey)&&(X||(B({col:0,row:0,doNotScrollY:!0,doNotScrollX:!0}),$({col:D.length-(k?3:2),row:_.length-1,doNotScrollY:!0,doNotScrollX:!0}),u.preventDefault()))}},[d,D,_.length,it,Ue,X,Me,me,Re,m==null?void 0:m.max.row,m==null?void 0:m.min.row,ue,B,$,Vt,k]);(0,h.useDocumentEventListener)("keydown",Sr);const Dr=(0,i.useCallback)(u=>{var p;const w=((p=lt.current)===null||p===void 0?void 0:p.contains(u.target))||!1,O=w?Ae(u,!0,!0):null,R=O&&d&&d.col===O.col&&d.row===O.row&&X;w&&!R&&u.preventDefault()},[Ae,d,X]);(0,h.useDocumentEventListener)("contextmenu",Dr),(0,i.useEffect)(()=>{const u=[];(d==null?void 0:d.row)!==void 0&&u.push({type:"COPY",action:()=>{Je(),_e(null)}},{type:"CUT",action:()=>{Wt(),_e(null)}},{type:"PASTE",action:()=>o(void 0,void 0,void 0,function*(){if(navigator.clipboard.read!==void 0)(yield navigator.clipboard.read()).forEach(w=>o(void 0,void 0,void 0,function*(){let O=[[""]];if(w.types.includes("text/html")){const R=yield w.getType("text/html");O=(0,A.parseTextHtmlData)(yield R.text())}else if(w.types.includes("text/plain")){const R=yield w.getType("text/plain");O=(0,A.parseTextPlainData)(yield R.text())}else if(w.types.includes("text")){const R=yield w.getType("text");O=(0,A.parseTextHtmlData)(yield R.text())}Qe(O)}));else if(navigator.clipboard.readText!==void 0){const p=yield navigator.clipboard.readText();Qe((0,A.parseTextPlainData)(p))}else alert("This action is unavailable in your browser, but you can still use Ctrl+V for paste");_e(null)})}),(m==null?void 0:m.max.row)!==void 0?u.push({type:"INSERT_ROW_BELLOW",action:()=>{_e(null),Me(m.max.row)}}):(d==null?void 0:d.row)!==void 0&&u.push({type:"INSERT_ROW_BELLOW",action:()=>{_e(null),Me(d.row)}}),(m==null?void 0:m.min.row)!==void 0&&m.min.row!==m.max.row?u.push({type:"DUPLICATE_ROWS",fromRow:m.min.row+1,toRow:m.max.row+1,action:()=>{_e(null),Ue(m.min.row,m.max.row)}}):(d==null?void 0:d.row)!==void 0&&u.push({type:"DUPLICATE_ROW",action:()=>{_e(null),Ue(d.row)}}),(m==null?void 0:m.min.row)!==void 0&&m.min.row!==m.max.row?u.push({type:"DELETE_ROWS",fromRow:m.min.row+1,toRow:m.max.row+1,action:()=>{_e(null),ke(m.min.row,m.max.row)}}):(d==null?void 0:d.row)!==void 0&&u.push({type:"DELETE_ROW",action:()=>{_e(null),ke(d.row)}}),_r(u),u.length||_e(null)},[m,d,ke,Ue,Me,Wt,Je,Qe]);const mn=(0,i.useRef)(Ve);mn.current=Ve;const Mr=(0,i.useCallback)(()=>mn.current,[]);(0,i.useImperativeHandle)(hr,()=>({activeCell:(0,H.getCellWithId)(d,D),selection:(0,H.getSelectionWithId)(m??(d?{min:d,max:d}:null),D),setSelection:u=>{const p=(0,H.getSelection)(u,D.length-(k?2:1),_.length,D);B((p==null?void 0:p.min)||null),se(!1),Ke({columns:!1,active:!1,rows:!1}),$((p==null?void 0:p.max)||null)},setActiveCell:u=>{const p=(0,H.getCell)(u,D.length-(k?2:1),_.length,D);B(p),se(!1),Ke({columns:!1,active:!1,rows:!1}),$(null)}}));const Pe=(0,i.useRef)({onFocus:tn,onBlur:nn,onActiveCellChange:rn,onSelectionChange:on});return Pe.current.onFocus=tn,Pe.current.onBlur=nn,Pe.current.onActiveCellChange=rn,Pe.current.onSelectionChange=on,(0,i.useEffect)(()=>{$e.current&&(X?Pe.current.onFocus({cell:(0,H.getCellWithId)($e.current,D)}):Pe.current.onBlur({cell:(0,H.getCellWithId)($e.current,D)}))},[X,D]),(0,i.useEffect)(()=>{Pe.current.onActiveCellChange({cell:(0,H.getCellWithId)(d,D)})},[d==null?void 0:d.col,d==null?void 0:d.row,D]),(0,i.useEffect)(()=>{Pe.current.onSelectionChange({selection:(0,H.getSelectionWithId)(m??(d?{min:d,max:d}:null),D)})},[(Nt=m==null?void 0:m.min.col)!==null&&Nt!==void 0?Nt:d==null?void 0:d.col,(At=m==null?void 0:m.min.row)!==null&&At!==void 0?At:d==null?void 0:d.row,($t=m==null?void 0:m.max.col)!==null&&$t!==void 0?$t:d==null?void 0:d.col,(Ft=m==null?void 0:m.max.row)!==null&&Ft!==void 0?Ft:d==null?void 0:d.row,d==null?void 0:d.col,d==null?void 0:d.row,D]),i.default.createElement("div",{className:K,style:U},i.default.createElement("div",{ref:Lt,tabIndex:te.length&&_.length?0:void 0,onFocus:u=>{u.target.blur(),B({col:0,row:0})}}),i.default.createElement(re.Grid,{columns:D,outerRef:Oe,columnWidths:be,hasStickyRightColumn:k,displayHeight:an,data:_,fullWidth:un,headerRowHeight:ee,activeCell:d,innerRef:lt,rowHeight:Fe,rowKey:z,selection:m,rowClassName:cr,editing:X,getContextMenuItems:Mr,setRowData:wr,deleteRows:ke,insertRowAfter:Me,duplicateRows:Ue,stopEditing:Vt,cellClassName:dr,onScroll:fr},i.default.createElement(L.SelectionRect,{columnRights:xe,columnWidths:be,activeCell:d,selection:m,headerRowHeight:ee,rowHeight:Fe,hasStickyRightColumn:k,dataLength:_.length,viewHeight:Ne,viewWidth:Le,contentWidth:un?void 0:br,edges:gr,editing:X,isCellDisabled:me,expandSelection:yr})),i.default.createElement("div",{ref:Bt,tabIndex:te.length&&_.length?0:void 0,onFocus:u=>{u.target.blur(),B({col:D.length-(k?3:2),row:_.length-1})}}),!ie&&V&&i.default.createElement(V,{addRows:u=>Me(_.length-1,u)}),Be&&Ve.length>0&&i.default.createElement(ar,{clientX:Be.x,clientY:Be.y,cursorIndex:Be.cursorIndex,items:Ve,close:()=>_e(null)}))})),e.DataSheetGrid.displayName="DataSheetGrid"})(Zt);var Et={},Cl=b&&b.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t},Sl=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Et,"__esModule",{value:!0});Et.StaticDataSheetGrid=void 0;const Dl=I,Ml=Zt,En=Sl(I);Et.StaticDataSheetGrid=En.default.forwardRef((e,r)=>{var{columns:t,gutterColumn:n,stickyRightColumn:o,addRowsComponent:l,createRow:i,duplicateRow:a,style:f,rowKey:s,onFocus:c,onBlur:v,onActiveCellChange:h,onSelectionChange:y,rowClassName:g,rowHeight:x}=e,C=Cl(e,["columns","gutterColumn","stickyRightColumn","addRowsComponent","createRow","duplicateRow","style","rowKey","onFocus","onBlur","onActiveCellChange","onSelectionChange","rowClassName","rowHeight"]);const[j]=(0,Dl.useState)({columns:t,gutterColumn:n,stickyRightColumn:o,addRowsComponent:l,createRow:i,duplicateRow:a,style:f,rowKey:s,onFocus:c,onBlur:v,onActiveCellChange:h,onSelectionChange:y,rowClassName:g,rowHeight:x});return En.default.createElement(Ml.DataSheetGrid,Object.assign({},j,C,{rowHeight:typeof x=="number"?x:j.rowHeight,ref:r}))});var je={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.useFirstRender=void 0;const Rl=I,Il=()=>{const e=(0,Rl.useRef)(!0),r=e.current;return e.current=!1,r};Ct.useFirstRender=Il;var jl=b&&b.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Tl=b&&b.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Pl=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&jl(r,e,t);return Tl(r,e),r},zl=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(je,"__esModule",{value:!0});je.createTextColumn=je.textColumn=void 0;const qe=Pl(I),Nl=zl(Ze),Al=Ct,rr=qe.default.memo(({active:e,focus:r,rowData:t,setRowData:n,columnData:{placeholder:o,alignRight:l,formatInputOnFocus:i,formatBlurredInput:a,parseUserInput:f,continuousUpdates:s}})=>{const c=(0,qe.useRef)(null),v=(0,Al.useFirstRender)(),h=(0,qe.useRef)({rowData:t,formatInputOnFocus:i,formatBlurredInput:a,setRowData:n,parseUserInput:f,continuousUpdates:s,firstRender:v,focusedAt:0,changedAt:0,escPressed:!1});return h.current={rowData:t,formatInputOnFocus:i,formatBlurredInput:a,setRowData:n,parseUserInput:f,continuousUpdates:s,firstRender:v,focusedAt:h.current.focusedAt,changedAt:h.current.changedAt,escPressed:h.current.escPressed},(0,qe.useLayoutEffect)(()=>{r?(c.current&&(c.current.value=h.current.formatInputOnFocus(h.current.rowData),c.current.focus(),c.current.select()),h.current.escPressed=!1,h.current.focusedAt=Date.now()):c.current&&(!h.current.escPressed&&!h.current.continuousUpdates&&!h.current.firstRender&&h.current.changedAt>=h.current.focusedAt&&h.current.setRowData(h.current.parseUserInput(c.current.value)),c.current.blur())},[r]),(0,qe.useEffect)(()=>{!r&&c.current&&(c.current.value=h.current.formatBlurredInput(t))},[r,t]),qe.default.createElement("input",{defaultValue:a(t),className:(0,Nl.default)("dsg-input",l&&"dsg-input-align-right"),placeholder:e?o:void 0,tabIndex:-1,ref:c,style:{pointerEvents:r?"auto":"none"},onChange:y=>{h.current.changedAt=Date.now(),s&&n(f(y.target.value))},onKeyDown:y=>{y.key==="Escape"&&(h.current.escPressed=!0)}})});rr.displayName="TextComponent";je.textColumn=or();function or({placeholder:e,alignRight:r=!1,continuousUpdates:t=!0,deletedValue:n=null,parseUserInput:o=s=>s.trim()||null,formatBlurredInput:l=s=>String(s??""),formatInputOnFocus:i=s=>String(s??""),formatForCopy:a=s=>String(s??""),parsePastedValue:f=s=>s.replace(/[\n\r]+/g," ").trim()||null}={}){return{component:rr,columnData:{placeholder:e,alignRight:r,continuousUpdates:t,formatInputOnFocus:i,formatBlurredInput:l,parseUserInput:o},deleteValue:()=>n,copyValue:({rowData:s})=>a(s),pasteValue:({value:s})=>f(s),isCellEmpty:({rowData:s})=>s==null}}je.createTextColumn=or;var St={},$l=b&&b.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Fl=b&&b.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Ll=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&$l(r,e,t);return Fl(r,e),r};Object.defineProperty(St,"__esModule",{value:!0});St.checkboxColumn=void 0;const dt=Ll(I),Bl=["","false","no","off","disabled","0","n","f","unchecked","undefined","null","wrong","negative"],lr=dt.default.memo(({focus:e,rowData:r,setRowData:t,active:n,stopEditing:o,disabled:l})=>{const i=(0,dt.useRef)(null);return(0,dt.useLayoutEffect)(()=>{e&&(t(!r),o({nextRow:!1}))},[e,o]),dt.default.createElement("input",{className:"dsg-checkbox",tabIndex:-1,type:"checkbox",ref:i,disabled:l,checked:!!r,onMouseDown:()=>!n&&t(!r),onChange:()=>null})});lr.displayName="CheckboxComponent";St.checkboxColumn={component:lr,deleteValue:()=>!1,copyValue:({rowData:e})=>e?"YES":"NO",pasteValue:({value:e})=>!Bl.includes(e.toLowerCase()),isCellEmpty:({rowData:e})=>!e};var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.floatColumn=void 0;const Vl=je;Dt.floatColumn=(0,Vl.createTextColumn)({alignRight:!0,formatBlurredInput:e=>typeof e=="number"?new Intl.NumberFormat().format(e):"",parseUserInput:e=>{const r=parseFloat(e);return isNaN(r)?null:r},parsePastedValue:e=>{const r=parseFloat(e);return isNaN(r)?null:r}});var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.intColumn=void 0;const Wl=je;Mt.intColumn=(0,Wl.createTextColumn)({alignRight:!0,formatBlurredInput:e=>typeof e=="number"?new Intl.NumberFormat().format(e):"",parseUserInput:e=>{const r=parseFloat(e);return isNaN(r)?null:Math.round(r)},parsePastedValue:e=>{const r=parseFloat(e);return isNaN(r)?null:Math.round(r)}});var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.percentColumn=void 0;const Gl=je,Kl=1e12,Ul=1e10;Rt.percentColumn=(0,Gl.createTextColumn)({alignRight:!0,formatBlurredInput:e=>typeof e=="number"?new Intl.NumberFormat(void 0,{style:"percent"}).format(e):"",formatInputOnFocus:e=>typeof e=="number"&&!isNaN(e)?String(Math.round(e*Kl)/Ul):"",parseUserInput:e=>{const r=parseFloat(e);return isNaN(r)?null:r/100},parsePastedValue:e=>{const r=parseFloat(e);return isNaN(r)?null:r}});var It={},kl=b&&b.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ql=b&&b.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Hl=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&kl(r,e,t);return ql(r,e),r},Xl=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(It,"__esModule",{value:!0});It.dateColumn=void 0;const ft=Hl(I),Yl=Xl(Ze),ir=ft.default.memo(({focus:e,active:r,rowData:t,setRowData:n})=>{var o;const l=(0,ft.useRef)(null);return(0,ft.useLayoutEffect)(()=>{var i,a;e?(i=l.current)===null||i===void 0||i.select():(a=l.current)===null||a===void 0||a.blur()},[e]),ft.default.createElement("input",{className:(0,Yl.default)("dsg-input",!r&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:l,style:{pointerEvents:e?"auto":"none",opacity:t||r?void 0:0},value:(o=t==null?void 0:t.toISOString().substr(0,10))!==null&&o!==void 0?o:"",onChange:i=>{const a=new Date(i.target.value);n(isNaN(a.getTime())?null:a)}})});ir.displayName="DateComponent";It.dateColumn={component:ir,deleteValue:()=>null,copyValue:({rowData:e})=>e?e.toISOString().substr(0,10):null,pasteValue:({value:e})=>{const r=new Date(e.replace(/\.\s?|\//g,"-"));return isNaN(r.getTime())?null:r},minWidth:170,isCellEmpty:({rowData:e})=>!e};var jt={},Zl=b&&b.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Jl=b&&b.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Ql=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Zl(r,e,t);return Jl(r,e),r},ei=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.isoDateColumn=void 0;const ht=Ql(I),ti=ei(Ze),sr=ht.default.memo(({focus:e,active:r,rowData:t,setRowData:n})=>{const o=(0,ht.useRef)(null);return(0,ht.useLayoutEffect)(()=>{var l,i;e?(l=o.current)===null||l===void 0||l.select():(i=o.current)===null||i===void 0||i.blur()},[e]),ht.default.createElement("input",{className:(0,ti.default)("dsg-input",!r&&"dsg-hide-date-picker"),type:"date",tabIndex:-1,max:"9999-12-31",ref:o,style:{pointerEvents:e?"auto":"none",opacity:t||r?void 0:0},value:t??"",onChange:l=>{const i=new Date(l.target.value);n(isNaN(i.getTime())?null:i.toISOString().substr(0,10))}})});sr.displayName="IsoDateComponent";jt.isoDateColumn={component:sr,deleteValue:()=>null,pasteValue:({value:e})=>{const r=new Date(e.replace(/\.\s?|\//g,"-"));return isNaN(r.getTime())?null:r.toISOString().substr(0,10)},minWidth:170,isCellEmpty:({rowData:e})=>!e};var Tt={},ni=b&&b.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(r,t);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,o)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ri=b&&b.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),oi=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&ni(r,e,t);return ri(r,e),r},li=b&&b.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.keyColumn=void 0;const tt=oi(I),ii=e=>{var{columnData:{key:r,original:t},rowData:n,setRowData:o}=e,l=li(e,["columnData","rowData","setRowData"]);const i=(0,tt.useRef)(n);i.current=n;const a=(0,tt.useCallback)(s=>{o(Object.assign(Object.assign({},i.current),{[r]:s}))},[r,o]);if(!t.component)return tt.default.createElement(tt.default.Fragment,null);const f=t.component;return tt.default.createElement(f,Object.assign({columnData:t.columnData,setRowData:a,rowData:n[r]},l))},si=(e,r)=>Object.assign(Object.assign({id:e},r),{columnData:{key:e,original:r},component:ii,copyValue:({rowData:t,rowIndex:n})=>{var o,l;return(l=(o=r.copyValue)===null||o===void 0?void 0:o.call(r,{rowData:t[e],rowIndex:n}))!==null&&l!==void 0?l:null},deleteValue:({rowData:t,rowIndex:n})=>{var o,l;return Object.assign(Object.assign({},t),{[e]:(l=(o=r.deleteValue)===null||o===void 0?void 0:o.call(r,{rowData:t[e],rowIndex:n}))!==null&&l!==void 0?l:null})},pasteValue:({rowData:t,value:n,rowIndex:o})=>{var l,i;return Object.assign(Object.assign({},t),{[e]:(i=(l=r.pasteValue)===null||l===void 0?void 0:l.call(r,{rowData:t[e],value:n,rowIndex:o}))!==null&&i!==void 0?i:null})},disabled:typeof r.disabled=="function"?({rowData:t,rowIndex:n})=>{var o;return typeof r.disabled=="function"?r.disabled({rowData:t[e],rowIndex:n}):(o=r.disabled)!==null&&o!==void 0?o:!1}:r.disabled,cellClassName:typeof r.cellClassName=="function"?({rowData:t,rowIndex:n,columnId:o})=>{var l;return typeof r.cellClassName=="function"?r.cellClassName({rowData:t[e],rowIndex:n,columnId:o}):(l=r.cellClassName)!==null&&l!==void 0?l:void 0}:r.cellClassName,isCellEmpty:({rowData:t,rowIndex:n})=>{var o,l;return(l=(o=r.isCellEmpty)===null||o===void 0?void 0:o.call(r,{rowData:t[e],rowIndex:n}))!==null&&l!==void 0?l:!1}});Tt.keyColumn=si;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.renderContextMenuItem=e.createContextMenuComponent=e.createAddRowsComponent=e.keyColumn=e.isoDateColumn=e.dateColumn=e.percentColumn=e.intColumn=e.floatColumn=e.checkboxColumn=e.createTextColumn=e.textColumn=e.DataSheetGrid=e.DynamicDataSheetGrid=void 0;const r=Zt,t=Et;e.DynamicDataSheetGrid=r.DataSheetGrid,e.DataSheetGrid=t.StaticDataSheetGrid;var n=je;Object.defineProperty(e,"textColumn",{enumerable:!0,get:function(){return n.textColumn}}),Object.defineProperty(e,"createTextColumn",{enumerable:!0,get:function(){return n.createTextColumn}});var o=St;Object.defineProperty(e,"checkboxColumn",{enumerable:!0,get:function(){return o.checkboxColumn}});var l=Dt;Object.defineProperty(e,"floatColumn",{enumerable:!0,get:function(){return l.floatColumn}});var i=Mt;Object.defineProperty(e,"intColumn",{enumerable:!0,get:function(){return i.intColumn}});var a=Rt;Object.defineProperty(e,"percentColumn",{enumerable:!0,get:function(){return a.percentColumn}});var f=It;Object.defineProperty(e,"dateColumn",{enumerable:!0,get:function(){return f.dateColumn}});var s=jt;Object.defineProperty(e,"isoDateColumn",{enumerable:!0,get:function(){return s.isoDateColumn}});var c=Tt;Object.defineProperty(e,"keyColumn",{enumerable:!0,get:function(){return c.keyColumn}});var v=Qt;Object.defineProperty(e,"createAddRowsComponent",{enumerable:!0,get:function(){return v.createAddRowsComponent}});var h=en;Object.defineProperty(e,"createContextMenuComponent",{enumerable:!0,get:function(){return h.createContextMenuComponent}}),Object.defineProperty(e,"renderContextMenuItem",{enumerable:!0,get:function(){return h.defaultRenderItem}})})(Nr);export{Nr as d};
